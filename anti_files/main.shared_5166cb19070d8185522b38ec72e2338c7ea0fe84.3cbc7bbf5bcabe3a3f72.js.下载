(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{1026:function(e,t,n){"use strict";var o=n(14),c=n(15),i=n(16),r=n(17),a=n(8),l=n(1),d=n(0),s=n(12),u=n.n(s),b=n(35),h=n(91);function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=Object(a.a)(e);if(t){var c=Object(a.a)(this).constructor;n=Reflect.construct(o,arguments,c)}else n=o.apply(this,arguments);return Object(r.a)(this,n)}}var f=function(e){Object(i.a)(n,e);var t=p(n);function n(){var e;Object(o.a)(this,n);for(var c=arguments.length,i=new Array(c),r=0;r<c;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).handleSubmit=function(){var t=e.props,n=t.onSubmit,o=t.onCancel,c=t.needCancel;(void 0===c||c)&&o(),n()},e}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props,t=e.title,n=e.subtitle,o=e.shown,c=e.onCancel,i=e.className,r=e.isMobile,a=e.confirmText,d=e.cancelText,s=e.showButtonHorizontal,p=e.showConfirmButtonRight,f=Object(l.b)(b.c,{preset:"primary",color:"blue",onClick:this.handleSubmit,children:a||"确认"},"confirm"),v=Object(l.b)(b.c,{onClick:c,children:d||"取消"},"cancel"),m=r||p?[v,f]:[f,v];return Object(l.b)(h.b,{wrapperClassName:"ConfirmModal-wrapper",className:u()("ConfirmModal",i),title:t,size:r?"small":"default",subtitle:n,onClose:c,closeButton:!1,buttonGroupOnly:!0,children:o&&Object(l.b)(h.a,{direction:r||s?"horizontal":"vertical",children:m})})}}]),n}(d.Component);t.a=f},1036:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n(0);var o=n(12),c=n.n(o),i=n(9),r=function(e){var t=e.avatar,n=e.bottom,o=e.button,r=e.className,a=e.height,l=e.icon,d=e.inline,s=e.right,u=e.style,b=void 0===u?{}:u,h=e.title,p=e.width,f=Object.assign({},b);return p&&(f.width="".concat(p,"px")),a&&(f.height="".concat(a,"px")),n&&(f.marginBottom="".concat(n,"px")),s&&(f.marginRight="".concat(s,"px")),Object(i.g)("div",{className:c()("Holder",r,{"Holder--inline":d,"Holder--title":h,"Holder--icon":l,"Holder--button":o,"Holder--avatar":t}),style:f})}},1063:function(e,t,n){"use strict";var o=n(14),c=n(15),i=n(16),r=n(17),a=n(8),l=n(1),d=n(3),s=n.n(d),u=n(0),b=n(23),h=n(159),p=n(154),f=n(943),v=n(1296),m=n(947),O=n(986),j=n(950),g=(n(1406),n(973)),x=n(969);function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=Object(a.a)(e);if(t){var c=Object(a.a)(this).constructor;n=Reflect.construct(o,arguments,c)}else n=o.apply(this,arguments);return Object(r.a)(this,n)}}var C=function(e){Object(i.a)(n,e);var t=y(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.user;b.a.setModule(this,{module:"UserItem"},{card:{content:{type:"User",member_hash_id:e.id,follower_num:e.followerCount}}})}},{key:"renderRewardDetails",value:function(){var e=this.props.user,t=e.amount,n=e.rewardCreated;return Object(l.c)("div",{className:"ContentItem-rewardDetails",children:[Object(l.b)("p",{className:"ContentItem-rewardAmount",children:t&&"赞赏了 ¥".concat(t/100)}),Object(l.b)("p",{className:"ContentItem-rewardTime",children:Object(h.toRelativeString)(n)})]})}},{key:"render",value:function(){var e=this.props,t=e.user,n=t.urlToken,o=t.isFollowed,c=t.isFollowing,i=t.answerCount,r=t.articlesCount,a=t.followerCount,d=t.id,s=t.isOrg,u=e.user,b=e.type,h=e.isRewardList,y=e.action,C=e.meta,k=e.status,w=e.noTrackCardShow,z=e.onClick,B=e.currentUser,S=!n,R=B&&B.id===d,E=void 0!==y?y:!R&&!S&&Object(l.b)(f.a,{id:u.urlToken,type:b||u.type,preset:f.a.PRESETS.primary,gender:u.gender,isFollowing:c,onClick:z}),A=void 0!==C?C:S||Object(l.b)(O.a,{user:u}),N=void 0!==k?Object(l.b)(j.d,{children:k}):!S&&Object(l.c)(j.d,{children:[Boolean(i)&&"".concat(Object(p.formatNumber)(i)," 回答"),Boolean(r)&&"".concat(Object(p.formatNumber)(r)," 文章"),Boolean(a)&&"".concat(Object(p.formatNumber)(a)," 关注者")]}),T="//www.zhihu.com/".concat(s?"org":"people","/").concat(n||d),F=this.props.userLinkV2;return Object(l.b)(j.e,{data:u,link:T,image:F?Object(l.b)(g.a,{className:"UserItem-avatar",avatarProps:{size:60},user:u,target:"_blank"}):Object(l.b)(m.a,{className:"UserItem-avatar",avatar:!0,avatarProps:{size:60},user:u,target:"_blank"}),title:Object(l.c)("div",{className:"UserItem-title",children:[F?Object(l.b)(x.a,{user:u,target:"_blank"}):Object(l.b)(m.a,{user:u,target:"_blank"}),Object(l.b)(v.a,{isFollowing:c,isFollowed:o})]}),meta:Object(l.c)("div",{children:[A,N]}),noTrackCardShow:w,extra:h?this.renderRewardDetails():E})}}]),n}(u.Component);C.propTypes={action:s.a.node,status:s.a.node,meta:s.a.node,type:s.a.string,isRewardList:s.a.bool,onClick:s.a.func,currentUser:s.a.object},t.a=C},1129:function(e,t,n){"use strict";n.d(t,"c",(function(){return k})),n.d(t,"a",(function(){return V})),n.d(t,"b",(function(){return U}));var o=n(34),c=n(217),i=n(1),r=n(0),a=n.n(r),l=n(20),d=n(885),s=n(27),u=Object.assign;function b(e){return a.a.createElement(s.a,u(u({width:"16",height:"16",viewBox:"0 0 16 16"},e),{className:(t=e.className,"function"==typeof t?t():"ZDI ZDI--ArrowClockwise16"+(t?" "+t:""))}),a.a.createElement("path",{d:"M9.75 1.777A6.65 6.65 0 107.124 14.76a.65.65 0 10.142-1.292 5.35 5.35 0 114.77-1.987l-.117-1.07a.65.65 0 00-1.292.14l.254 2.324a.85.85 0 001.01.741l2.379-.472a.65.65 0 10-.253-1.275l-.759.15A6.649 6.649 0 009.75 1.778z",fillRule:"evenodd",clipRule:"evenodd"}));var t}var h,p=n(9),f=n(136),v=n(502),m=n(511),O=n(1272),j=n(127);function g(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var o=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}(t,void 0!==n&&n<o?n:o)}return e(t,n)}var x=Object(p.h)(h||(h=Object(c.a)(["\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n"]))),y=function(e){var t=e.className,n=e.isLoading;return Object(i.c)(f.b,{className:t,css:function(e){return{display:"inline-flex",alignItems:"center",color:e.colors.GBK06A}},children:[Object(i.b)("span",{css:{display:"inline-flex",alignItems:"center",width:24,marginLeft:-24},children:Object(i.b)(b,{css:n?{animation:"".concat(x," 1s linear 600ms infinite")}:{}})}),n?"加载中...":"加载失败，点击「设置」重试"]})},C=function(e){var t=e.className,n=e.current,o=e.permissionItem,c=e.onClick,r=o.permission,a=o.text,l=o.disable,d=o.disableAlert;return r!==v.b||n===r||Object(v.c)()?Object(i.b)(O.a,{className:t,onClick:function(){l?Object(j.b)(d,{theme:"red-ghost"}):c(r,a)},checked:n===r,children:a}):null};function k(e){var t=e.current,n=e.target,c=e.type,a=e.onChange,s=e.className,u=Object(d.a)(!1),b=g(o.a,u,2),h=b[0],p=b[1],f=Object(d.a)(!0),O=g(o.a,f,2),x=O[0],k=O[1],w=Object(l.useDispatch)(),z=n.type,B=n.id,S=c||z,R=Object(l.useSelector)((function(e){var t;return null===(t=e.commentPermission[S])||void 0===t?void 0:t[B]}))||[];Object(r.useEffect)((function(){h||w(Object(m.b)(S,B)).finally((function(){k.off(),p.on()}))}),[w,S,B,h,p,k]),Object(r.useEffect)((function(){t!==v.b||Object(v.c)()||Object(v.e)()}),[t]);var E=function(e,o){if(e!==t)if(n){var c=n.id;n.adminClosedComment?Object(j.b)("此内容无法更改评论权限",{theme:"red-ghost"}):e===v.a||t===v.a?Object(j.a)("你确定要更改评论权限吗？",{content:e===v.a?"更改后，已有评论不变，新评论需要经过筛选才会公开显示":"更改后，所有待筛选评论都会被公开显示出来"}).then((function(){return a(c,e,o)})).catch((function(){return null})):a(c,e,o)}else a(e)};return x?Object(i.b)(y,{className:s,isLoading:!0}):x||!h||R.length?Object(i.b)(i.a,{children:R.map((function(e){return Object(i.b)(C,{className:s,permissionItem:e,onClick:E,current:t},e.permission)}))}):Object(i.b)(y,{className:s})}var w=n(14),z=n(15),B=n(16),S=n(17),R=n(8),E=n(95),A=n(1592),N=n.n(A),T=n(437);function F(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=Object(R.a)(e);if(t){var c=Object(R.a)(this).constructor;n=Reflect.construct(o,arguments,c)}else n=o.apply(this,arguments);return Object(S.a)(this,n)}}var M=function(e){Object(B.a)(n,e);var t=F(n);function n(){return Object(w.a)(this,n),t.apply(this,arguments)}return Object(z.a)(n,[{key:"render",value:function(){return Object(i.b)("img",{src:N.a,style:{maxWidth:"200px",marginTop:"30px"},alt:"delete-comment-success"})}}]),n}(r.Component);M.showModal=function(e){E.b.open((function(t){var n=(e||{}).reportText;return setTimeout(t,2e3),Object(i.b)(E.b,{title:"举报成功",onClose:t,children:Object(i.c)("div",{style:{textAlign:"center"},children:[Object(i.b)("div",{children:n||"你的举报我们已经收到，处理完成后将会私信告知处理结果。"}),Object(i.b)(M,{})]})})}))};var U=Object(T.b)({view:{id:3038},trackCardShow:!0})(M),I=n(35),L=n(293);function D(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=Object(R.a)(e);if(t){var c=Object(R.a)(this).constructor;n=Reflect.construct(o,arguments,c)}else n=o.apply(this,arguments);return Object(S.a)(this,n)}}var V=function(e){Object(B.a)(n,e);var t=D(n);function n(){var e;Object(w.a)(this,n);for(var o=arguments.length,c=new Array(o),i=0;i<o;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).state={reportModalShown:!1},e.handleSubmit=function(){var t=e.props,n=t.id,o=t.onDelete,c=t.onClose;o(n),c()},e.handleReportModalOpen=function(){return e.setState({reportModalShown:!0})},e.handleReportModalClose=function(){e.setState({reportModalShown:!1}),e.handleSubmit()},e.handleSuccess=function(){e.handleSubmit()},e}return Object(z.a)(n,[{key:"render",value:function(){var e=this.props,t=e.id,n=e.shown,o=e.onClose,c=e.reportAndDeleteExperiment;return Object(i.c)(r.Fragment,{children:[Object(i.b)(E.b,{title:"你确定要删除这条评论吗？",closeButton:null,maskClosable:!1,hotKeyClosable:!1,onClose:o,footer:c&&Object(i.c)("div",{className:"CommentDeleteAndReport-extra",children:["评论若构成举报条件可以",Object(i.b)(I.c,{preset:"link",onClick:this.handleReportModalOpen,children:"删除并举报"})]}),children:n&&Object(i.c)(E.a,{direction:"horizontal",children:[Object(i.b)(I.c,{onClick:o,children:"取消"}),Object(i.b)(I.c,{preset:"primary",color:"blue",onClick:this.handleSubmit,children:"确定"})]})}),Object(i.b)(L.a,{title:"删除成功，请选择举报理由",subtitle:"",shown:this.state.reportModalShown,type:"comment",urlToken:t,zaEnabled:!0,onSuccess:this.handleSuccess,onClose:this.handleReportModalClose})]})}}]),n}(r.Component)},1242:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var o=n(1),c=n(12),i=n.n(c);function r(e){var t=e.header,n=e.options,c=e.className,r=e.onRef,a=e.showOptions,l=void 0===a||a;return Object(o.c)("div",{className:i()("Topbar",c,!1),ref:r,children:[Object(o.b)("div",{className:"Topbar-title",children:t}),l&&Object(o.b)("div",{className:"Topbar-options",children:n})]})}},1272:function(e,t,n){"use strict";var o=n(36),c=n(1),i=n(136),r=n(926),a=["checked","children"];t.a=function(e){var t=e.checked,n=e.children,l=Object(o.default)(e,a);return Object(c.c)(i.b,Object.assign(Object.assign({},l),{},{children:[Object(c.b)("span",{css:{display:"inline-block",width:24,marginLeft:-24},children:t&&Object(c.b)(r.a,{text:!0,center:!0})}),n]}))}},1296:function(e,t,n){"use strict";var o=n(14),c=n(15),i=n(16),r=n(17),a=n(8),l=n(1);function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=Object(a.a)(e);if(t){var c=Object(a.a)(this).constructor;n=Reflect.construct(o,arguments,c)}else n=o.apply(this,arguments);return Object(r.a)(this,n)}}var s=function(e){Object(i.a)(n,e);var t=d(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props,t=e.isFollowed,n=e.isFollowing;return t?Object(l.b)("span",{className:"FollowStatus",children:n?"相互关注":"关注了你"}):null}}]),n}(n(0).Component);t.a=s},1406:function(e,t,n){},1494:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return a}));var o=n(0),c=n.n(o),i=n(27),r=Object.assign;function a(e){return c.a.createElement(i.a,r(r({width:"24",height:"24",fill:"none",viewBox:"0 0 24 24"},e),{className:(t=e.className,"function"==typeof t?t():"ZDI ZDI--Weibo24"+(t?" "+t:""))}),c.a.createElement("path",{fill:"#FB6622",d:"M15.518 3.06c8.834-.854 7.395 7.732 7.394 7.731-.625 1.44-1.673.31-1.673.31.596-7.52-5.692-6.33-5.692-6.33-.898-1.067-.03-1.71-.03-1.71zm4.13 6.985c-.66 1.01-1.376.126-1.375.126.205-3.179-2.396-2.598-2.396-2.598-.72-.765-.091-1.346-.091-1.346 4.882-.55 3.863 3.818 3.863 3.818zM5.318 7.52s4.615-3.86 6.443-1.328c0 0 .662 1.08-.111 2.797.003-.003 3.723-1.96 5.408.16 0 0 .848 1.094-.191 2.648 0 0 2.918-.099 2.918 2.715 0 2.811-4.104 6.44-9.315 6.44-5.214 0-8.026-2.092-8.596-3.102 0 0-3.475-4.495 3.444-10.33zm10.448 7.792s.232-4.41-5.71-4.207c-6.652.231-6.58 4.654-6.58 4.654.022.39.098 3.713 5.843 3.713 5.98 0 6.447-4.16 6.447-4.16zm-9.882.86s-.06-3.632 3.804-3.56c3.412.06 3.206 3.164 3.206 3.164s-.026 2.98-3.684 2.98c-3.288 0-3.326-2.584-3.326-2.584zm2.528 1.037c.672 0 1.212-.447 1.212-.998 0-.55-.543-.998-1.212-.998-.672 0-1.215.447-1.215.998 0 .551.546.998 1.215.998z",clipRule:"evenodd"}));var t}function l(e){return c.a.createElement(a,r(r({},e),{className:function(){return"Zi Zi--Weibo"+(e.className?" "+e.className:"")}}))}},1551:function(e,t,n){"use strict";var o=n(39),c=n(103),i=n(1552);e.exports=function(e){if(!Number.isInteger(e)&&e!==1/0||!(e>0))throw new TypeError("Expected `concurrency` to be a number from 1 and up");var t=[],n=0,r=function(){n--,t.length>0&&t.shift()()},a=function(){var e=c(o.mark((function e(t,c){var a,l,d,s,u=arguments;return o.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n++,a=u.length,l=new Array(a>2?a-2:0),d=2;d<a;d++)l[d-2]=u[d];return s=i.apply(void 0,[t].concat(l)),c(s),e.prev=4,e.next=7,s;case 7:e.next=11;break;case 9:e.prev=9,e.t0=e.catch(4);case 11:r();case 12:case"end":return e.stop()}}),e,null,[[4,9]])})));return function(t,n){return e.apply(this,arguments)}}(),l=function(i,r){for(var l=arguments.length,d=new Array(l>2?l-2:0),s=2;s<l;s++)d[s-2]=arguments[s];t.push(a.bind.apply(a,[null,i,r].concat(d))),c(o.mark((function c(){return o.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,Promise.resolve();case 2:n<e&&t.length>0&&t.shift()();case 3:case"end":return o.stop()}}),c)})))()},d=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return new Promise((function(t){return l.apply(void 0,[e,t].concat(n))}))};return Object.defineProperties(d,{activeCount:{get:function(){return n}},pendingCount:{get:function(){return t.length}},clearQueue:{value:function(){t.length=0}}}),d}},1552:function(e,t,n){"use strict";var o=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return new Promise((function(t){t(e.apply(void 0,n))}))};e.exports=o,e.exports.default=o},1592:function(e,t,n){e.exports=n.p+"assets/deleteComment.97d8abc0.gif"},1631:function(e,t,n){"use strict";var o=n(4),c=n(34),i=n(1),r=n(2871),a=n(376),l=n(904),d=n(886),s=n(99),u=n(1559),b=n(932),h=n(2983),p=n(436),f=n(12),v=n.n(f),m=n(2990),O=n(190),j=n.n(O),g=n(73),x=n.n(g),y=n(0),C=n.n(y),k=n(20),w=n(23),z=n(51),B=n(1121),S=n(437),R=n(35),E=n(144),A=n(1017),N=n(160),T=n(95),F=n(58),M=n(52),U=Object.assign;var I=function(e){return C.a.createElement(M.a,U({width:"12",height:"12",fill:"none",viewBox:"0 0 12 12"},e),C.a.createElement("rect",{width:"10",height:"10",x:"1",y:"1",stroke:"#D3D3D3",rx:"1.5",strokeWidth:"2"}))},L=Object.assign;var D=function(e){return C.a.createElement(M.a,L({width:"12",height:"12",fill:"none",viewBox:"0 0 12 12"},e),C.a.createElement("path",{fill:"#06F",d:"M0 2a2 2 0 012-2h8a2 2 0 012 2v8a2 2 0 01-2 2H2a2 2 0 01-2-2V2zm5.136 6.608l.214.214 4.276-4.277-.707-.707-3.574 3.574-2.138-2.138-.707.707 2.632 2.632.004-.005z",fillRule:"evenodd",clipRule:"evenodd"}))};function V(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var o=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}(t,void 0!==n&&n<o?n:o)}return e(t,n)}var P=function(e){var t=e.handleCancel,n=e.handleAgree,o=Object(y.useState)(!1),r=V(c.a,o,2),a=r[0],l=r[1];return Object(i.c)(T.b,{title:"联合创作协议",closeButton:null,color:"GBK02A",children:[Object(i.b)(F.Box,{mb:"24px",children:"知乎鼓励视频作者引用图文作者的优质图文内容进行视频联合创作。视频审核成功后，平台会以私信的方式告知图文作者。若图文作者同意升级为联合创作，引用关系会变为联合创作关系。在原图文内容下会展示联合创作的视频，同时图文作者会在他的个人主页下发布视频。"}),Object(i.c)(F.Flex,{fontSize:"14px",lineHeight:"24px",alignItems:"center",children:[a?Object(i.b)(D,{css:{paddingRight:"11px"},onClick:function(){return l(!1)}}):Object(i.b)(I,{css:{paddingRight:"11px"},onClick:function(){return l(!0)}}),"我已充分阅读并同意",Object(i.b)(F.Text,{display:"inline-block",color:"GBL01A",css:{cursor:"pointer"},onClick:function(){return window.open("/term/coopcreation","_blank")},children:"《联合创作用户协议》"})]}),Object(i.c)(T.a,{direction:"horizontal",children:[Object(i.b)(R.c,{onClick:t,children:"取消"}),Object(i.b)(R.c,{preset:"primary",color:"blue",onClick:n,disabled:!a,children:"同意"})]})]})};var G=function(e){var t=e.handleConfirm;return Object(i.c)(T.b,{title:"什么是「联合创作」",closeButton:null,children:[Object(i.b)("div",{children:"知乎鼓励视频作者引用图文作者的优质图文内容进行视频联合创作。视频审核成功后，平台会以私信的方式告知图文作者。若图文作者同意升级为联合创作，引用关系会变为联合创作关系。在原图文内容下会展示联合创作的视频，同时图文作者会在他的个人主页下发布视频。"}),Object(i.b)(T.a,{direction:"horizontal",children:Object(i.b)(R.c,{preset:"primary",color:"blue",onClick:t,children:"我知道了"})})]})},H=n(258),K=n(453),_=n(31),W=n(40),q=Object.assign;var Q=function(e){return C.a.createElement(M.a,q({width:"16",height:"16",fill:"none",viewBox:"0 0 16 16"},e),C.a.createElement("path",{fill:"#121212",d:"M2.333 2.667a1 1 0 100 2 1 1 0 000-2zm2.334 5a1 1 0 011-1h8a1 1 0 110 2h-8a1 1 0 01-1-1zm0 4a1 1 0 011-1h8a1 1 0 010 2h-8a1 1 0 01-1-1zm-3.334-4a1 1 0 112 0 1 1 0 01-2 0zm1 3a1 1 0 100 2 1 1 0 000-2zm2.334-7a1 1 0 011-1h8a1 1 0 110 2h-8a1 1 0 01-1-1z",fillRule:"evenodd",clipRule:"evenodd"}),C.a.createElement("mask",{id:"id-801532647-a",style:{maskType:"alpha"},width:"14",height:"11",x:"1",y:"2",maskUnits:"userSpaceOnUse"},C.a.createElement("path",{fill:"#fff",d:"M2.333 2.667a1 1 0 100 2 1 1 0 000-2zm2.334 5a1 1 0 011-1h8a1 1 0 110 2h-8a1 1 0 01-1-1zm0 4a1 1 0 011-1h8a1 1 0 010 2h-8a1 1 0 01-1-1zm-3.334-4a1 1 0 112 0 1 1 0 01-2 0zm1 3a1 1 0 100 2 1 1 0 000-2zm2.334-7a1 1 0 011-1h8a1 1 0 110 2h-8a1 1 0 01-1-1z",fillRule:"evenodd",clipRule:"evenodd"})),C.a.createElement("g",{mask:"url(#id-801532647-a)"},C.a.createElement("path",{fill:"#8590A6",d:"M0 0h16v16H0z"})))},Z="https://".concat(W.a.wwwHost,"/image-text-cite?").concat(new URLSearchParams({source:"upload-video"}));var Y=function(e){var t=e.handleCancel,n=e.handleConfirm,o=e.handleChange,c=e.link;return Object(i.c)(F.Box,{px:"24px",mt:"68px",children:[Object(i.b)(E.a,{multiline:!0,placeholder:"粘贴你想引用的内容链接",rows:7,css:{height:"180px !important",width:"100%",margin:"12px 0",paddingTop:"12px"},onChange:o,value:c}),Object(i.c)(z.a,{extra:{link:{url:Z}},zaAction:"OpenUrl",zaText:"cite_image_text_go_list",zaType:"Button",as:R.c,preset:"plain",onClick:function(){return window.open(Z,"_blank")},children:[Object(i.b)(Q,{css:{marginRight:"8px",verticalAlign:"middle"}}),"可视化图文内容库"]}),Object(i.c)(T.a,{direction:"horizontal",children:[Object(i.b)(R.c,{onClick:t,children:"取消"}),Object(i.b)(z.a,{zaText:"cite_image_text_stick_click",zaType:"Button",as:R.c,preset:"primary",color:"blue",onClick:function(){return n(c)},disabled:!c,children:"确认"})]})]})},X=n(1031),J=n(1193),$=n(438),ee=n(32);var te=function(e){var t=e.handleSelect,n=Object(k.useSelector)((function(e){return e.zvideos.collectData})),o=n.list,c=void 0===o?[]:o,r=n.isFetching,a=n.isEnd,l=void 0!==a&&a,d=n.next,s=Object(k.useDispatch)();return Object(y.useEffect)((function(){s(Object(K.e)())}),[s]),Object(i.b)(i.a,{children:r||c.length>0?Object(i.c)($.b,{onLoad:function(){s(Object(K.e)(d))},isLoading:r,isDrained:l,css:{flex:"1",overflow:"auto",marginTop:"68px"},getContainer:function(e){return e},placeholder:Object(i.b)($.a,{className:"List-item"}),children:[Object(i.b)(F.Text,{lineHeight:"25px",mb:"8px",px:"24px",color:"#1A1A1A",children:"以下为可引用的内容"}),c.map((function(e,n){var o=e.target,c=o.type,r=o.id,a=o.author,l=a.avatarUrl,d=a.name,s=a.description,u=o.title,b=o.question,h=(b=void 0===b?{}:b).title,p=o.excerpt,f="article"===c?u:h;return Object(i.b)(z.b,{content:{token:String(r),type:ee.eb[c]},children:Object(i.c)(z.a,{view:{elementLocation:{card:{index:n}}},shouldTrackShow:!0,zaType:"Card",as:F.Box,onClick:function(){return t({type:c,id:r})},css:{borderRadius:"6px",padding:"8px 24px",boxShadow:"inset 0px -0.5px 0px #EBEBEB","&:hover":{background:"rgba(0, 102, 255, 0.08)",cursor:"pointer"}},children:[Object(i.c)(F.Flex,{fontSize:"14px",pb:"7px",alignItems:"center",children:[Object(i.b)(F.Image,{src:l,sx:{borderRadius:2},height:18,width:18,mr:"8px"}),Object(i.b)(F.Text,{color:"GBK03A",fontWeight:"600",children:d}),s&&Object(i.b)(F.Text,{color:"GBK04A",fontWeight:"600",children:"，"}),Object(i.b)(F.Text,{color:"GBK04A",css:Object.assign({flex:1},Object(X.a)(1)),children:s})]}),Object(i.b)(F.Text,{color:"GBK02A",fontWeight:"600",fontSize:"15px",children:f}),Object(i.b)(F.Text,{fontSize:"14px",lineHeight:"25px",color:"#1A1A1A",children:p})]})},n)}))]}):Object(i.b)(J.a.EI1,{image:"noCollection",content:"你还没有收藏可引用的内容"})})};function ne(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var o=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}(t,void 0!==n&&n<o?n:o)}return e(t,n)}var oe=[{title:"粘贴链接",key:"sticky"},{title:"我的收藏夹",key:"collect"}];var ce=function(e){var t=e.handleCancel,n=e.handleSelect,o=Object(y.useState)("sticky"),r=ne(c.a,o,2),a=r[0],l=r[1],d=Object(y.useState)(""),u=ne(c.a,d,2),b=u[0],h=u[1],p=Object(s.a)((function(e){h(e.target.value)})),f=Object(k.useDispatch)(),v=Object(s.a)((function(e){"sticky"===a?f(Object(K.c)(e)).then((function(e){var t=e.payload,n=t.canReference,o=t.contentType,c=t.contentId;return n?f(Object(K.i)({type:o,id:c})):Promise.reject()})).then((function(e){var t=e.payload;n(t)})).catch((function(){f(Object(_.h)("此内容不可引用","red"))})):"collect"===a&&f(Object(K.i)(e)).then((function(e){var t=e.payload;n(t)}))}));return Object(i.b)(T.b,{closeButton:null,css:{height:"416px",width:"536px"},size:"fullPage",children:Object(i.c)(F.Box,{display:"flex",flexDirection:"column",height:"100%",overflow:"hidden",children:["sticky"===a&&Object(i.b)(Y,{link:b,handleChange:p,handleCancel:t,handleConfirm:v}),"collect"===a&&Object(i.b)(te,{handleSelect:v}),Object(i.b)(H.b,{css:{display:"flex",justifyContent:"center",borderBottom:"0",paddingTop:"10px",position:"absolute",width:"100%"},children:oe.map((function(e){var t=e.title,n=e.key;return Object(i.b)(H.a,{onClick:function(){return l(n)},children:Object(i.b)(F.Box,{css:function(e){return{color:a===n?e.colors.GBK02A:e.colors.GBL05A,fontWeight:600,fontSize:"15px",lineHeight:"30px",position:"relative","&:hover":{cursor:"pointer"},"&::after":a===n?{content:"''",position:"absolute",top:"46px",left:"50%",transform:"translateX(-50%)",height:"4px",width:"36px",background:e.colors.GBL01A,borderRadius:"29px"}:{}}},children:t})},n)}))})]})})},ie=n(1289),re=n(161),ae=n(500),le=n(19);function de(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var o=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}(t,void 0!==n&&n<o?n:o)}return e(t,n)}var se=n(498),ue=n(336),be=[{value:"original",label:"原创"},{value:"reprint",label:"转载"}],he="https://pic2.zhimg.com/v2-feb96045745dac939aa2a900c6d6845d.jpg",pe=[{name:"answer",id:1},{name:"article",id:2}],fe=n(906),ve=n(466),me=n(1655),Oe=n(1329),je=function(){return!0},ge=n(1894);function xe(e){var t=e.content;return Object(i.b)(F.Box,{css:function(e){return{backgroundColor:e.colors.GBL01A,borderRadius:"4px",fontSize:"12px",lineHeight:"14px",color:e.colors.GBK99B,padding:"8px 12px",position:"absolute",left:0,top:"-33px","::after":{content:'""',display:"block",width:"6px",height:"6px",background:e.colors.GBL01A,position:"absolute",left:"25px",bottom:"-3px",transform:"rotate(45deg)"}}},children:t})}function ye(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var o=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}(t,void 0!==n&&n<o?n:o)}return e(t,n)}var Ce=function(e){var t=e.defaultVideo,o=e.title,r=e.description,a=e.active,l=t.id,s=Object(k.useDispatch)(),u=Object(y.useState)(0),b=ye(c.a,u,2),h=b[0],p=b[1],f=Object(Oe.a)("zvideo_contribution_form:should_hide_tooltip"),v=ye(c.a,f,2),m=v[0],O=v[1],j=Object(y.useState)(!1),g=ye(c.a,j,2),x=g[0],C=g[1],w=Object(y.useState)(!1),B=ye(c.a,w,2),S=B[0],R=B[1],E=Object(ve.o)(l).answer,A=(E=void 0===E?{}:E).canContribute,N=void 0!==A&&A,T=Object(ve.p)(l),F=Object(d.a)((function(){return n.e(102).then(n.bind(null,3051))})),M=je(),U=Object(y.useCallback)((function(){o?(s(Object(ve.l)(null)),C(!0),R(!1)):s(Object(_.h)("输入标题后才可以投稿哦"))}),[o,s]),I=Object(y.useCallback)((function(){C(!0),R(!0)}),[]);return Object(y.useEffect)((function(){s(Object(ve.h)(l,"edit"))}),[s,l]),Object(y.useEffect)((function(){var e,n;t.file&&t.file instanceof File?(n=t.file,new Promise((function(e,t){try{var o=document.createElement("video");o.preload="metadata",o.onloadedmetadata=function(){URL.revokeObjectURL(o.src),e(Math.floor(1e3*o.duration))},o.onerror=t,o.src=URL.createObjectURL(n)}catch(e){t(e)}}))).then((function(e){s(Object(ve.g)({zvideoId:l,duration:e})),p(e)})):(null!==(e=t.video)&&void 0!==e&&e.duration&&p(parseInt(1e3*t.video.duration)),s(Object(ve.g)({zvideoId:l})))}),[t,s,l]),Object(fe.a)((function(){return O(!0)}),!m&&N&&a?5e3:null),N||T.length?Object(i.c)(z.b,{block:"Contribution",children:[Object(i.c)("div",{className:"VideoUploadForm-item",children:[Object(i.b)(z.f,{zaType:"Block",className:"VideoUploadForm-itemTitle VideoUploadForm-itemTitle--top",children:"投稿问题"}),a&&!m&&Object(i.b)(xe,{content:"投稿到问题，让更多人看到你的视频"}),Object(i.b)("div",{children:Object(i.b)(me.a,{zvideoId:l,showCreateButton:!0,onAdd:U,onSelect:I})})]}),Boolean(F)&&!M?Object(i.b)(F,{show:x,defaultVideo:t,title:o,description:r,duration:h,closeAfterEdit:S,onClose:function(){return C(!1)}}):Object(i.b)(ge.a,{show:x,defaultVideo:t,title:o,description:r,duration:h,closeAfterEdit:S,onClose:function(){return C(!1)},isProduce:!0})]}):null};var ke,we=(ke=pe,function(e){var t=e.citeId,n=e.citeType;return{reference:{referenceType:n&&ke.find((function(e){return e.name===n})).id||0,referenceContentToken:t?String(t):"0"}}}),ze=function(e){return function(t){return t?e.find((function(e){return e.id===t})).name:null}}(pe),Be=n(1911),Se=n(975),Re=n(223),Ee=function(e){var t=e.title;return t&&Object(i.b)(F.Text,{sx:{lineHeight:"15px",fontSize:"15px",fontWeight:"bold",color:"GBK02A",marginBottom:"16px"},children:t})};var Ae=function(e){var t=e.title,n=e.description,o=e.imageUrl,c=e.duration,r=Object(Re.a)(["avatarUrl","name"]),a=r.avatarUrl,l=r.name;return Object(i.c)(F.Box,{width:"278px",pl:"20px",sx:{position:"absolute",right:0,top:"26px",borderLeft:"1px solid",borderColor:"GBK09A",overflow:"auto"},children:[Object(i.b)(Ee,{title:"移动端预览效果"}),Object(i.c)(F.Box,{width:"236px",height:"494px",sx:{backgroundImage:'url("https://pic3.zhimg.com/v2-6b6281a5e31bfc1385d8d4462f31ea5c.png")',backgroundSize:"100% 100%",fontSize:"12px",position:"relative",marginTop:"26px"},children:[Object(i.c)(F.Box,{width:"222px",height:"281px",bg:"GBK99A",sx:{position:"absolute",left:"7px",top:"158px",overflow:"hidden"},children:[Object(i.c)(F.Flex,{pt:"4px",mx:"9px",alignItems:"center",bg:"GBK99A",children:[Object(i.b)(F.Box,{width:"19px",height:"19px",mr:"9px",bg:"GBK10A",sx:{borderRadius:"50%",overflow:"hidden"},children:a&&Object(i.b)(F.Image,{src:a,width:"100%",height:"100%"})}),Object(i.c)(F.Box,{children:[Object(i.b)(F.Text,{width:l?"150%":"24px",height:"9px",bg:l?"transparent":"GBK10A",mb:l?"2px":"0px",sx:{borderRadius:"4px",color:"GBK02A",lineHeight:"9px",transformOrigin:"0 center",transform:"scale(0.67)"},children:l}),Object(i.b)(F.Text,{width:a?"170%":"113px",height:"9px",bg:a?"transparent":"GBK10A",sx:{borderRadius:"4px",color:"GBK06A",lineHeight:"9px",transformOrigin:"0 center",transform:"scale(0.58)"},children:a&&"1 分钟前・发布了视频"})]})]}),Object(i.b)(F.Box,{width:t?"auto":"175px",height:t?"auto":"13px",bg:t?"transparent":"GBK10A",m:"4px 9px",sx:Object.assign({borderRadius:"4px",fontWeight:"bold",zoom:t?.83:1},Object(X.a)(2)),children:t}),Object(i.b)(F.Box,{m:"0 9px 5px",sx:Object.assign({color:"GBK03A",zoom:n?.67:1},Object(X.a)(3)),children:n||Object(i.c)(i.a,{children:[Object(i.b)(F.Text,{width:"199px",height:"9px",mb:"3px",bg:"GBK10A",sx:{borderRadius:"4px"}}),Object(i.b)(F.Text,{width:"74px",height:"9px",bg:"GBK10A",sx:{borderRadius:"4px"}})]})}),Object(i.c)(F.Box,{height:"115px",bg:o?"GBK02B":"GBK10A",mx:"9px",sx:{borderRadius:"4px",overflow:"hidden",position:"relative"},children:[o&&Object(i.b)(F.Image,{src:o,width:"100%",height:"100%",sx:{objectFit:"cover"}}),Object(i.b)(Se.a,{css:{width:"34px",height:"34px",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}}),Object(i.b)(F.Text,{width:c?"auto":"23px",bg:c?"transparent":"GBK09B",height:c?"auto":"6px",sx:{position:"absolute",bottom:"7px",right:"7px",zoom:c?.58:1,color:"GBK99A",borderRadius:"4px"},children:c})]}),Object(i.b)(F.Image,{src:"https://pic1.zhimg.com/v2-add740deb6bfded14b013d4b115aef7f.png",width:"100%"}),Object(i.b)(F.Image,{src:"https://pic3.zhimg.com/v2-c98b0c106781ed7b3e12c03c6c5b3c86.png",width:"100%"})]}),Object(i.b)(F.Box,{width:"222px",height:"56px",sx:{position:"absolute",left:"7px",bottom:"6px",backgroundImage:'url("https://pic2.zhimg.com/v2-c80434267f8c3e22ca3b5cd109e4b5d4.png")',backgroundSize:"100% 100%"}})]})]})},Ne=n(1907);function Te(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var o=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}(t,void 0!==n&&n<o?n:o)}return e(t,n)}t.a=Object(se.b)({init:!0,getScene:function(){return{type:"zvideo"}}})((function(e){var t,f,O,g,C,T,F,M,U,I,L,D,V,H,W,q,Q,Z,Y=e.className,X=e.defaultVideo,J=e.defaultCampaignId,$=e.status,te=e.checkFormValid,ne=e.onRemove,oe=e.onSubmit,se=e.shouldShowScheduledPublish,pe=e.active,fe=e.citeType,ve=e.citeId,me=e.showMobilePreview,Oe=void 0!==me&&me,je=e.writeShield;Object(a.a)((function(){var e;null==je||null===(e=je.setOnModalClose)||void 0===e||e.call(je,(function(){Oe?location.href="https://www.zhihu.com":null==ne||ne()}))}));var ge,xe=Object(y.useState)(Object(ue.e)(null==X?void 0:X.id)||(null==X||null===(t=X.chapters)||void 0===t?void 0:t.map((function(e){return Object.assign(Object.assign({},e),{},{start_time:e.startTime})})))||[]),ye=Te(c.a,xe,2),ke=ye[0],Se=ye[1],Re=Object(y.useState)(null),Ee=Te(c.a,Re,2),Fe=Ee[0],Me=Ee[1],Ue=Object(y.useState)(!1),Ie=Te(c.a,Ue,2),Le=Ie[0],De=Ie[1],Ve=Object(y.useState)(!1),Pe=Te(c.a,Ve,2),Ge=Pe[0],He=Pe[1],Ke=ze(null==X||null===(f=X.reference)||void 0===f?void 0:f.referenceType),_e=Object(y.useState)({citeType:Ke||fe||null,citeId:(null==X||null===(O=X.reference)||void 0===O?void 0:O.referenceContentToken)||ve||null}),We=Te(c.a,_e,2),qe=We[0],Qe=We[1],Ze=Object(y.useState)(!1),Ye=Te(c.a,Ze,2),Xe=Ye[0],Je=Ye[1],$e=Object(y.useState)(!1),et=Te(c.a,$e,2),tt=et[0],nt=et[1],ot=Object(y.useState)(!1),ct=Te(c.a,ot,2),it=ct[0],rt=ct[1],at=m.a(new Date,30),lt=Object(y.useState)(!1),dt=Te(c.a,lt,2),st=dt[0],ut=dt[1],bt=Object(y.useState)(at),ht=Te(c.a,bt,2),pt=ht[0],ft=ht[1],vt=(ge=function(e){return e.zvideos.tagoreCategory},Object(k.useSelector)(ge,k.shallowEqual)),mt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=Object(k.useDispatch)(),c=Array.isArray(e),i=c?e:[e];return Object(y.useMemo)((function(){return c?i.map((function(e){return Object(le.bindActionCreators)(e,n)})):Object(le.bindActionCreators)(i[0],n)}),[n].concat(de(o.a,i),de(o.a,t)))}([K.g,K.y,K.q,K.r,K.o,K.l,_.h,K.i,K.f,K.h,K.a]),Ot=Te(c.a,mt,11),jt=Ot[0],gt=Ot[1],xt=Ot[2],yt=Ot[3],Ct=Ot[4],kt=Ot[5],wt=Ot[6],zt=Ot[7],Bt=Ot[8],St=Ot[9],Rt=Ot[10],Et=Object(k.useSelector)((function(e){return e.zvideos.videoSource})),At=Object(y.useState)((null==X?void 0:X.title)||""),Nt=Te(c.a,At,2),Tt=Nt[0],Ft=Nt[1],Mt=Object(y.useState)(null!==(g=null==X?void 0:X.description)&&void 0!==g?g:""),Ut=Te(c.a,Mt,2),It=Ut[0],Lt=Ut[1],Dt=Object(y.useState)(null!==(C=null==X||null===(T=X.category)||void 0===T||null===(F=T.firstLevel)||void 0===F?void 0:F.id)&&void 0!==C&&C),Vt=Te(c.a,Dt,2),Pt=Vt[0],Gt=Vt[1],Ht=vt.find((function(e){return e.data.id===Pt})),Kt=Object(y.useState)(null!==(M=null==X||null===(U=X.category)||void 0===U||null===(I=U.secondLevel)||void 0===I?void 0:I.id)&&void 0!==M&&M),_t=Te(c.a,Kt,2),Wt=_t[0],qt=_t[1];Object(y.useEffect)((function(){Bt().then((function(e){var t=e.payload.canRef,n=void 0!==t&&t;return De(n),n?St():(Qe({citeId:null,citeType:null}),Promise.reject())})).then((function(e){var t=e.payload.agreeState;He(t)})).catch(x.a)}),[]);var Qt=function(e){var t=e.author,n=t.avatarUrl,o=t.name,c=e.type,i={headPhoto:n,name:o};if("article"===c){var r=e.imageUrl,a=e.title;i.contentPhoto=r,i.title=a}if("answer"===c){var l=e.question.title,d=e.thumbnailInfo,s=void 0===d?{}:d,u=j()(s,"thumbnails[0].url",null);u&&(i.contentPhoto=u),i.title=l}return i};Object(y.useEffect)((function(){var e=qe.citeId,t=qe.citeType;e&&t&&zt({type:t,id:e}).then((function(e){var t=e.payload||{};Me(Qt(t))}))}),[]),Object(y.useEffect)((function(){vt.length||xt()}),[vt,xt]);var Zt=Object(y.useState)(Boolean(null==X||null===(L=X.category)||void 0===L||null===(D=L.firstLevel)||void 0===D?void 0:D.id)||Boolean(null==X||null===(V=X.category)||void 0===V||null===(H=V.secondLevel)||void 0===H?void 0:H.id)),Yt=Te(c.a,Zt,2),Xt=Yt[0],Jt=Yt[1],$t=Object(l.a)((function(e){yt(e).then((function(e){var t=e.payload.data[0];t&&(Gt(t.firstLevel.id),qt(t.secondLevel.id))}))}),300);Object(y.useEffect)((function(){Xt||$t({title:Tt,type:"zvideo",content:It})}),[Tt,It,Xt,$t]);var en=Object(y.useState)(null!==(W=null==X?void 0:X.topics)&&void 0!==W?W:[]),tn=Te(c.a,en,2),nn=tn[0],on=tn[1],cn=Object(y.useState)(Boolean(null==X||null===(q=X.topics)||void 0===q?void 0:q.length)),rn=Te(c.a,cn,2),an=rn[0],ln=rn[1],dn=Object(y.useState)(!1),sn=Te(c.a,dn,2),un=sn[0],bn=sn[1],hn=Object(l.a)((function(e){Ct(e).then((function(e){var t=e.payload.data;t.length&&on(t)}))}),300);Object(y.useEffect)((function(){!an&&Pt&&Wt&&hn({type:"zvideo",text:Tt,firstLevelCategoryId:Pt,secondLevelCategoryId:Wt,limit:6})}),[Tt,Pt,Wt,an,hn]);var pn=Object(y.useState)(!1),fn=Te(c.a,pn,2),vn=fn[0],mn=fn[1],On=Object(y.useState)(null==X?void 0:X.imageUrl),jn=Te(c.a,On,2),gn=jn[0],xn=jn[1],yn=Object(y.useState)(null==X?void 0:X.imageUrlFrom),Cn=Te(c.a,yn,2),kn=Cn[0],wn=Cn[1],zn=Object(y.useCallback)((function(e,t){xn(e),mn(!0),wn(t)}),[xn]);Object(y.useEffect)((function(){(!gn&&null!=X&&X.imageUrl||gn===he&&null!=X&&X.imageUrl&&X.imageUrl!==he)&&xn(X.imageUrl)}),[gn,X]);var Bn=Object(d.a)((function(){return n.e(90).then(n.bind(null,3055))})),Sn=Object(y.useState)(null==X?void 0:X.zvideoType),Rn=Te(c.a,Sn,2),En=Rn[0],An=Rn[1],Nn="published"===(null==X?void 0:X.zvideoState);Object(y.useEffect)((function(){if(Et.isLoaded&&X.queryVideoId){var e;if(Tt||Ft(Et.title||""),!nn.length)on(null!==(e=Et.topics)&&void 0!==e?e:[]);En||An(Et.zvideoType)}}),[Et,Tt,nn,En,X]);var Tn=Object(y.useState)(null==X?void 0:X.campaign),Fn=Te(c.a,Tn,2),Mn=Fn[0],Un=Fn[1],In=Object(y.useState)(!1),Ln=Te(c.a,In,2),Dn=Ln[0],Vn=Ln[1],Pn=Object(y.useState)(!1),Gn=Te(c.a,Pn,2),Hn=Gn[0],Kn=Gn[1],_n=Object(y.useState)([]),Wn=Te(c.a,_n,2),qn=Wn[0],Qn=Wn[1],Zn=Boolean(null==qn?void 0:qn.length)&&!Mn,Yn="published"===(null==X?void 0:X.zvideoState);Object(y.useEffect)((function(){kt().then((function(e){var t=e.payload;Qn(t.data)}))}),[kt]),Object(y.useEffect)((function(){var e=null==qn?void 0:qn.find((function(e){return e.id===J}));!e||Dn||Mn||Un(e)}),[J,qn,Dn,Mn]);var Xn=Object(l.a)((function(e,t){gt(e,t)}),300);Object(y.useEffect)((function(){X.id&&Xn(X.id,Object.assign(Object.assign({title:Tt,description:It,category:{firstLevel:Pt||void 0,secondLevel:Wt||void 0},zvideoType:En,topicIds:nn.map((function(e){return e.id||e.urlToken})),campaignId:(null==Mn?void 0:Mn.id)||"0",imageUrl:gn,imageUrlFrom:kn||2,isVisible:!0},we(qe)),{},{chapters:ke}))}),[X.id,Tt,It,Pt,Wt,En,nn,Mn,gn,kn,Xn,qe,ke]);var Jn=Object(l.a)((function(e){return jt(e).then((function(e){var t,n,o,c,i,r,a,l,d=e.payload;d&&(!Tt&&Ft(d.title),!gn&&d.imageUrl&&xn(d.imageUrl),!It&&Lt(null!==(t=d.description)&&void 0!==t?t:""),!Pt&&Gt(null!==(n=null===(o=d.category)||void 0===o||null===(c=o.firstLevel)||void 0===c?void 0:c.id)&&void 0!==n&&n),!Wt&&qt(null!==(i=null===(r=d.category)||void 0===r||null===(a=r.secondLevel)||void 0===a?void 0:a.id)&&void 0!==i&&i),(null==nn||!nn.length)&&on(null!==(l=d.topics)&&void 0!==l?l:[]),!En&&An(d.zvideoType),!Mn&&Un(d.campaign))}))}),300);Object(y.useEffect)((function(){X.id&&Jn(X.id)}),[X,Jn]);var $n=Boolean(X.id),eo=["uploading","uploadError"].includes($),to=Object(s.a)((function(){Rt().then((function(e){var t=e.payload.success;void 0!==t&&t&&(nt(!1),rt(!0),He(!0))}))})),no=Object(s.a)((function(e){Se(Te(o.a,e))})),oo=Object(d.a)((function(){return n.e(84).then(n.bind(null,3033))}));return Object(i.b)(z.b,{block:"VideoUploadForm",content:{type:"Zvideo",id:X.id},children:Object(i.c)(z.f,{zaType:"Block",className:v()("VideoUploadForm",Y),children:[Object(i.c)("div",{className:"VideoUploadForm-content",children:[Object(i.c)("div",{className:"VideoUploadForm-item",children:[Object(i.b)("div",{className:"VideoUploadForm-itemTitle VideoUploadForm-itemTitle--required VideoUploadForm-itemTitle--topBelow",children:"封面"}),Object(i.c)("div",{className:"VideoUploadForm-imageContainer",children:[!eo&&Object(i.b)("img",{className:"VideoUploadForm-image",src:gn||he,alt:""}),eo&&Object(i.b)("div",{className:"VideoUploadForm-uploadStatus",children:"uploading"===$?"视频上传中":"视频上传失败"}),Object(i.b)("div",{className:"VideoUploadForm-duration",children:Object(B.a)(null===(Q=X.video)||void 0===Q?void 0:Q.duration)}),Object(i.b)(re.a,{children:Bn&&Object(i.b)(Bn,{defaultVideo:X,coverChanged:vn,imageUrl:gn,onVideoPosterChange:zn})})]})]}),Object(i.c)("div",{className:"VideoUploadForm-item",children:[Object(i.b)("div",{className:"VideoUploadForm-itemTitle VideoUploadForm-itemTitle--required",children:"标题"}),Object(i.b)(E.a,{className:"VideoUploadForm-input",value:Tt,onChange:function(e){Ft(e.target.value)},placeholder:"输入视频标题",large:!0,after:Object(i.b)("div",{className:"VideoUploadForm-itemLimit",children:"".concat(Tt.length,"/").concat(40)})}),Tt.length<5&&Object(i.c)("div",{className:"VideoUploadForm-itemError",children:["最少输入 ",5," 个字"]}),Tt.length>40&&Object(i.c)("div",{className:"VideoUploadForm-itemError",children:["已超出 ",Tt.length-40," 个字"]})]}),Object(i.c)("div",{className:"VideoUploadForm-item",children:[Object(i.b)("div",{className:"VideoUploadForm-itemTitle VideoUploadForm-itemTitle--topBelow",children:"简介"}),Object(i.b)(E.a,{className:"VideoUploadForm-input VideoUploadForm-input--multiline",value:It,onChange:function(e){Lt(e.target.value)},placeholder:"填写视频简介，让更多人找到你的视频",multiline:!0,large:!0,rows:4,after:Object(i.b)("div",{className:"VideoUploadForm-itemLimit VideoUploadForm-itemLimit--multiline",children:"".concat(It.length,"/").concat(300)})}),It.length>300&&Object(i.c)("div",{className:"VideoUploadForm-itemError VideoUploadForm-itemError--multiline",children:["已超出 ",It.length-300," 个字"]})]}),$n&&Object(i.b)(Ce,{defaultVideo:X,title:Tt,description:It,active:pe}),Object(i.c)("div",{className:"VideoUploadForm-item",children:[Object(i.b)("div",{className:"VideoUploadForm-itemTitle VideoUploadForm-itemTitle--required",children:"所属领域"}),Object(i.c)("div",{className:"VideoUploadForm-selectContainer",children:[Object(i.c)(N.b,{className:"VideoUploadForm-select",listClassName:"VideoUploadForm-selectList",value:Pt,onChange:function(e){Gt(e),qt(!1),Jt(!0)},children:[!Ht&&Object(i.b)(N.a,{value:!1,text:"选择领域"},"all"),vt.map((function(e){var t=e.data;return Object(i.b)(N.a,{value:t.id,text:t.name},t.id)}))]}),Ht&&Object(i.c)(N.b,{className:"VideoUploadForm-select",listClassName:"VideoUploadForm-selectList",value:Wt,onChange:function(e){qt(e),Jt(!0)},children:[Object(i.b)(N.a,{value:!1,text:"选择领域"},"all"),Ht.children.map((function(e){var t=e.data;return Object(i.b)(N.a,{value:t.id,text:t.name},t.id)}))]})]})]}),Object(i.c)("div",{className:"VideoUploadForm-item",children:[Object(i.b)("div",{className:"VideoUploadForm-itemTitle VideoUploadForm-itemTitle--required VideoUploadForm-itemTitle--topic",children:"绑定话题"}),Object(i.b)(ae.a,{className:"VideoUploadForm-topicInput",value:nn,onChange:function(e){on(e),ln(!0)},max:6,actived:un,onToggleActived:function(){return bn(!un)}})]}),Object(i.b)(Be.b,{zvideo_id:X.id,defaultVideo:X,children:Object(i.b)(Be.a.Consumer,{children:function(e){return e.canUse&&oo&&Object(i.b)(oo,{onSubmit:no,knowledges:ke,defaultVideo:X})}})}),Object(i.c)("div",{className:"VideoUploadForm-item",children:[Object(i.b)("div",{className:"VideoUploadForm-itemTitle VideoUploadForm-itemTitle--required",children:"视频类型"}),Object(i.c)("div",{className:"VideoUploadForm-typeContainer",children:[Object(i.b)("div",{className:v()("VideoUploadForm-radioContainer",{"VideoUploadForm-radioContainer--disabled":Nn}),children:be.map((function(e){return Object(i.c)("label",{className:"VideoUploadForm-radioLabel",children:[Object(i.b)(A.a,{className:"VideoUploadForm-radio",size:16,checked:e.value===En,onChange:function(){An(e.value)},disabled:Nn}),e.label]},e.value)}))}),"reprint"===En&&Object(i.b)("div",{className:"VideoUploadForm-typeHint",children:"请确保转载视频符合版权使用规范，如被举报侵权，视频将会被删除"})]})]}),Le&&Object(i.c)("div",{className:"VideoUploadForm-item",css:{alignItems:"flex-start"},children:[Object(i.c)("div",{className:"VideoUploadForm-itemTitle",children:[Object(i.b)("span",{css:{marginRight:"4px",verticalAlign:"middle"},children:"联合创作"}),Object(i.b)(u.a,{size:16,fill:"#8590A6",css:{verticalAlign:"middle",cursor:"pointer"},onClick:function(){return Je(!0)}})]}),Fe?Object(i.b)(z.b,{content:{token:String(qe.citeId),type:ee.eb[qe.citeType]},children:Object(i.c)(z.f,{zaType:"Card",view:{elementLocation:{card:{index:0}}},children:[Object(i.b)("div",{css:function(e){return{color:e.colors.GBL05A,fontSize:"14px",lineHeight:"14px",marginBottom:"13px",textAlign:"right"}},children:Object(i.b)(R.c,{onClick:function(){"published"!==(null==X?void 0:X.zvideoState)?(Me(null),Qe({citeId:null,citeType:null})):wt("视频已发布，无法删除引用内容","red")},css:{padding:"0",lineHeight:"1",border:"none"},children:"删除"})}),Object(i.c)("div",{css:function(e){return{width:"400px",padding:"12px 12px 12px 15px",background:e.colors.GBK10C,borderRadius:"3px",display:"flex",justifyContent:"space-between"}},children:[Object(i.c)("div",{children:[Object(i.b)("div",{css:function(e){return{color:e.colors.GBK03A,fontSize:"14px",lineHeight:"18px",marginBottom:"13px",fontWeight:"500"}},children:Fe.title}),Object(i.c)("div",{children:[Object(i.b)("img",{css:{width:"16px",height:"16px",borderRadius:"50%",verticalAlign:"middle",objectFit:"cover"},src:Fe.headPhoto,alt:""}),Object(i.b)("span",{css:function(e){return{fontSize:"13px",lineHeight:"18px",color:e.colors.GBK03A,marginLeft:"8px",verticalAlign:"middle"}},children:Fe.name})]})]}),Fe.contentPhoto&&Object(i.b)("img",{css:{width:"95px",height:"65px",borderRadius:"5px",objectFit:"cover"},src:Fe.contentPhoto,alt:""})]})]})}):Object(i.b)(z.a,{zaText:"cite_image_text_content_click",zaType:"Button",as:R.c,onClick:function(){Ge?rt(!0):nt(!0)},css:{lineHeight:"30px"},icon:b.a,preset:"plain",color:"blue",children:"引用图文内容"})]}),se&&Object(i.c)("div",{className:"VideoUploadForm-item VideoUploadForm-scheduledPublish",children:[Object(i.b)("span",{className:"VideoUploadForm-itemTitle",children:"定时发布"}),Object(i.b)(r.a,{className:"VideoUploadForm-scheduledPublish--switch",checked:st,onChange:function(e){return ut(e.target.checked)}}),st&&Object(i.c)(i.a,{children:[Object(i.b)(ie.a,{className:"VideoUploadForm-scheduledPublish--timePicker",value:pt,min:at,onChange:function(e){ft(Date.parse(e))}}),Object(i.b)(u.a,{className:"VideoUploadForm-scheduledPublish--tooltip",size:18,"data-tooltip":"时间需至少设置在30分钟以后","aria-label":"时间需至少设置在30分钟以后","data-tooltip-position":"top"})]})]}),(Zn&&!Yn||Mn)&&Object(i.c)("div",{className:"VideoUploadForm-item",children:[Object(i.b)("div",{className:"VideoUploadForm-itemTitle",children:"绑定活动"}),Zn&&!Yn&&Object(i.c)("div",{role:"button",tabIndex:0,className:"VideoUploadForm-feature",onClick:function(){Kn(!0),Vn(!0)},children:[Object(i.b)(h.a,{className:"VideoUploadForm-featureIcon",size:20}),Object(i.b)("div",{className:"VideoUploadForm-featureName",children:"绑定活动"})]}),Mn&&Object(i.c)("div",{className:v()("VideoUploadForm-feature",{"VideoUploadForm-feature--disabled":Yn}),children:[Object(i.b)(p.a,{text:!0,center:!0,size:6,css:{marginRight:4},onClick:function(){Un(null)}}),Object(i.b)(R.c,{preset:"plain",color:"blue",onClick:function(){Kn(!0),Vn(!0)},disabled:Yn,children:Mn.title})]})]}),Boolean(null==qn?void 0:qn.length)&&Object(i.b)(Ne.a,{shown:Hn,onClose:function(){Kn(!1)},defaultCampaignId:null==Mn?void 0:Mn.id,campaignList:qn,onSubmit:function(e){Kn(!1),Un(e)}}),Xe&&Object(i.b)(G,{handleConfirm:function(){Je(!1)}}),tt&&Object(i.b)(P,{handleAgree:to,handleCancel:function(){return nt(!1)}}),it&&Object(i.b)(ce,{handleCancel:function(){return rt(!1)},handleSelect:function(e){var t=e.id,n=e.type,o=void 0===n?"":n;Me(Qt(e)),Qe({citeId:t,citeType:o}),rt(!1)}})]}),Object(i.c)("div",{className:"VideoUploadForm-buttonGroup",children:[Object(i.b)(z.a,{zaText:!0,zaType:"Button",zaBlock:"CancelPublishVideo",zaAction:"Close",as:R.c,preset:"secondary",color:"blue",css:{padding:"0 31px"},onClick:ne,children:"取消发布"}),Object(i.b)(S.a,{module:"Content",card:{content:{type:"Zvideo",token:X.id}},children:Object(i.b)(z.a,{zaText:!0,zaType:"Button",zaBlock:"PublishVideo",zaAction:"Save",extra:{configMap:{publishSource:(null==X?void 0:X.zvideoState)||"upload"}},as:R.c,className:"VideoUploadForm-submitButton",preset:"primary",color:"blue",disabled:"uploadError"===$,css:{padding:"0 31px"},onClick:function(e){var t=function(e,t){var n=e.title,o=e.description,c=e.categoryFirstLevel,i=e.categorySecondLevelId,r=e.topics,a=e.zvideoType;if(!n)return"视频标题至少 ".concat(5," 个字");if(n.length<5)return"视频标题至少 ".concat(5," 个字");if(n.length>40)return"视频标题最多 ".concat(40," 个字");if(o.length>300)return"视频描述最多 ".concat(300," 个字");if(!c)return"请选择所属领域";if(!i)return"请选择所属二级领域";if(!r.length)return"请绑定话题";if(!a)return"请选择类型";if(t){var l=t();if(l)return l}}({title:Tt,description:It,categoryFirstLevel:Ht,categorySecondLevelId:Wt,topics:nn,zvideoType:En},te);if(t)return wt(t,"red");w.a.trackEvent(e.target,{id:7038,action:"Upload"},{button:{text:st?"定时发布":"发布视频"}});var n=Object.assign(Object.assign({id:X.id,videoId:X.videoId,title:Tt,description:It,category:{firstLevel:Pt,secondLevel:Wt},zvideoType:En,topicIds:nn.map((function(e){return e.id||e.urlToken})),campaignId:null==Mn?void 0:Mn.id,imageUrl:gn,imageUrlFrom:kn||2,publishAt:pt},we(qe)),{},{chapters:ke});oe(n,st)},children:st?"定时发布":"发布视频"})})]}),Oe&&Object(i.b)(Ae,{title:Tt,description:It,imageUrl:gn,duration:Object(B.a)(null===(Z=X.video)||void 0===Z?void 0:Z.duration)})]})})}))},1655:function(e,t,n){"use strict";var o=n(4),c=n(34),i=n(1),r=n(99),a=n(20),l=n(58),d=n(51),s=n(932),u=n(218),b=n(73),h=n.n(b),p=n(466),f=n(1329),v=n(2),m=n(1031),O=n(219),j=n(1786),g=function(e){var t=e.className,n=e.index,o=void 0===n?0:n,c=e.selected,r=e.onClick,a=e.onDelete,s=e.item,u=e.item,b=u.status,h=u.target,p=(h=void 0===h?{}:h).parentObject.title,f=0===b,g=Object(i.c)(d.a,Object.assign(Object.assign({zaType:"Card",zaText:p,view:{elementLocation:{card:{index:o}}},as:l.Flex,role:"button",className:t,width:"168px",height:"52px",color:"GBK03A",px:"8px",alignItems:"center",lineHeight:"normal"},f&&{onClick:r}),{},{css:function(e){var t;return{border:"1px solid ".concat(c?"transparent":f?e.colorMod(e.colors.GBL01A).alpha(.08):e.colors.GBK09A),boxShadow:c?"inset 0 0 0 2px ".concat(e.colors.GBL01A):"none",borderRadius:"3px",backgroundColor:e.colors.GBK99C,":hover":(t={background:f?e.colorMod(e.colors.GBL01A).alpha(.08):e.colors.GBK10A},Object(v.a)(t,".".concat("ContributionItem-deleteButton"),{visibility:"visible"}),Object(v.a)(t,"cursor",f?"pointer":"not-allowed"),t),position:"relative"}},children:[Object(i.b)(l.Flex,Object.assign(Object.assign({},f&&{color:"GBL01A"}),{},{fontSize:"11px",fontWeight:"600",alignItems:"center",justifyContent:"space-between",children:Object(i.b)(d.a,{zaBlock:"Delete",zaText:"删除投稿",zaType:"Button",as:l.Box,role:"button",className:"ContributionItem-deleteButton",onClick:function(e){e.stopPropagation(),null==a||a(s)},css:{cursor:"pointer",visibility:"hidden",position:"absolute",right:"-8px",top:"-8px"},children:Object(i.b)(j.b,{size:12,css:function(e){return{color:e.colors.GRD03A,backgroundColor:e.colors.GBK99A,borderRadius:"50%",border:"2px solid ".concat(e.colors.GBK99A)}}})})})),Object(i.b)(l.Box,{fontSize:"14px",css:[Object(m.a)(2),{wordBreak:"break-all"}],children:p})]}));return Object(i.b)(d.b,{block:"VideoAnswerItem",children:f?g:Object(i.b)(O.a,{toggler:g,placement:"top",arrowed:!0,toggleEvent:"hover",children:Object(i.b)(l.Box,{fontSize:"12px",p:"8px",children:"已投稿问题仅支持在回答详情页编辑"})})})};function x(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var o=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}(t,void 0!==n&&n<o?n:o)}return e(t,n)}var y=function(e){var t=e.className,n=e.onClick,o=e.totalCount,r=e.currentCount,a=Object(f.a)("zvideo_contribution_form:should_hide_new_tag"),u=x(c.a,a,2),b=u[0],h=u[1];return Object(i.c)(d.a,{zaType:"Button",zaAction:"",zaBlock:"AddVideoAnswer",zaText:"添加问题",as:l.Flex,className:t,role:"button",width:"168px",height:"52px",color:"GBL01A",alignItems:"center",justifyContent:"center",onClick:function(e){b||h(!0),null==n||n(e)},css:function(e){return Object.assign({position:"relative",cursor:"pointer",borderRadius:"3px",border:"1px solid ".concat(e.colorMod(e.colors.GBL01A).alpha(.08)),":hover":{background:e.colorMod(e.colors.GBL01A).alpha(.08)},overflow:"hidden"},!b&&{"::after":{content:'"NEW"',position:"absolute",top:"0",right:"0",color:e.colors.GRD03A,fontSize:"8px",fontWeight:"bold",textAlign:"center",background:e.colorMod(e.colors.GRD03A).alpha(.08),borderBottomLeftRadius:"3px",padding:"4px"}})},children:[Object(i.b)(s.a,{size:12}),Object(i.b)(l.Box,{fontSize:"14px",fontWeight:"500",mt:"1px",ml:"5px",children:r&&o?"继续添加 (".concat(r,"/").concat(o,")"):"添加问题"})]})};t.a=function(e){var t=e.zvideoId,n=e.showCreateButton,c=void 0!==n&&n,d=e.showSelect,s=void 0!==d&&d,b=e.onAdd,f=e.onSelect,v=e.isProduce,m=Object(a.useDispatch)(),O=Object(p.r)(),j=Object(p.p)(t);if(v)j.reverse();else{var C=j.filter((function(e){return 2===e.status})),k=j.filter((function(e){return 2!==e.status}));k.reverse(),j=[].concat(x(o.a,k),x(o.a,C))}var w=Object(p.o)(t).answer,z=(w=void 0===w?{}:w).canContribute,B=void 0!==z&&z,S=w.totalCount,R=void 0===S?0:S,E=j.length,A=Object(r.a)((function(e){m(Object(p.l)(e.id)),m(Object(p.f)(e.id)),null==f||f(e)})),N=Object(r.a)((function(e){u.a.confirm(Object(i.b)(l.Box,{textAlign:"center",children:"已编辑的投稿内容不会被保存"}),{title:Object(i.b)(l.Box,{ml:"23px",children:"确定删除该视频投稿？"}),text:{ok:"确认删除",cancel:"继续编辑"}}).then((function(){if(e.status&&0!==e.status){var n=e.target.object.id;n&&m(Object(p.d)(t,e.id,n))}else m(Object(p.e)(t,e.id));m(Object(p.l)(null))}),h.a)}));return Object(i.b)(l.Flex,{flexWrap:"wrap",ml:"-8px",children:Object(i.c)(i.a,{children:[j.map((function(e){return Object(i.b)(g,{selected:s&&(null==O?void 0:O.id)===e.id,onClick:function(){return A(e)},onDelete:function(){return N(e)},item:e,css:{marginLeft:"8px"}},e.id)})),B&&E<R&&c&&Object(i.b)(y,{onClick:b,currentCount:E,totalCount:R,css:{marginLeft:"8px"}})]})})}},1794:function(e,t,n){"use strict";var o=n(1),c=n(0),i=n(51),r=n(35),a=n(154),l=n(58),d=l.Box,s=l.Flex;t.a=function(e){var t=e.className,n=e.index,l=void 0===n?0:n,u=e.onSelect,b=e.selected,h=void 0!==b&&b,p=e.item,f=p.title,v=p.followCount,m=p.commentCount,O=p.visitCount,j=p.highlight,g=Object(c.useMemo)((function(){return[v,m,O].every((function(e){return"number"==typeof e}))?["".concat(Object(a.niceNumber)(v)," 关注"),"".concat(Object(a.niceNumber)(m)," 评论"),"".concat(Object(a.niceNumber)(O)," 浏览")].join(" · "):null}),[v,m,O]);return Object(o.c)(i.a,{zaBlock:"QuestionItem",zaType:"Card",zaText:g,view:{elementLocation:{card:{index:l}}},as:s,py:"12px",alignItems:"start",className:t,children:[Object(o.c)(d,{flex:"1",children:[Object(o.b)(d,{fontSize:"15px",fontWeight:"500",dangerouslySetInnerHTML:{__html:(null==j?void 0:j.title)||f},css:function(e){return{wordBreak:"break-all",em:{fontStyle:"inherit",color:e.colors.GYL01A}}}}),g&&Object(o.b)(d,{mt:"3px",color:"GBL05A",fontSize:"14px",children:g})]}),h?Object(o.b)(r.c,{preset:"secondary",color:"blue",css:{cursor:"unset"},children:"已选择"}):Object(o.b)(r.c,{onClick:u,color:"blue",css:{padding:"0 9px",marginLeft:"20px"},children:"选择问题"})]})}},1795:function(e,t,n){"use strict";var o=n(1),c=n(58),i=n(73),r=n.n(i),a=n(51),l=n(99),d=n(144),s=n(35),u=n(218),b=n(1794);t.a=function(e){var t=e.isEditing,n=e.onSubmit,i=e.onCancel,h=e.selectedQuestion,p=e.value,f=e.onChange,v=Object(l.a)((function(){n()})),m=Object(l.a)((function(){p?u.a.confirm(Object(o.b)(c.Box,{textAlign:"center",children:t?"已编辑的投稿内容不会被保存":"当前输入的投稿内容不会被保存"}),{title:Object(o.b)(c.Box,{ml:"23px",children:t?"确定取消当前修改":"确定返回选择其他问题？"}),text:{ok:t?"取消修改":"确定返回",cancel:t?"继续编辑":"继续投稿"}}).then(i,r.a):i()}));return Object(o.c)(a.b,{block:"AnswerEditor",children:[Object(o.b)(b.a,{selected:!0,item:h,css:{padding:"0 20px",marginTop:"24px"}}),Object(o.b)(a.a,{zaType:"Input",zaAction:"Answer",as:c.Box,px:"20px",mt:"17px",flex:"1",children:Object(o.b)(d.a,{autoFocus:!0,maxLength:"150000",value:p,onChange:function(e){f(e.target.value)},css:{width:"100%",height:"100%!important",textarea:{height:"100%"}},multiline:!0,placeholder:"针对问题介绍下视频（选填）"})}),Object(o.c)(c.Flex,{height:"82px",justifyContent:"space-between",alignItems:"center",px:"20px",css:{button:{width:"236px"}},children:[Object(o.b)(a.a,{zaType:"Button",zaAction:"Close",zaText:!0,as:s.c,onClick:m,children:t?"取消修改":"返回选择"}),Object(o.b)(a.a,{zaType:"Button",zaAction:"Save",zaText:!0,as:s.c,onClick:v,preset:"primary",color:"blue",children:t?"提交修改":"添加投稿"})]})]})}},1894:function(e,t,n){"use strict";var o=n(34),c=n(1),i=n(0),r=n.n(i),a=n(20),l=n(58),d=n(51),s=n(35),u=n(95),b=n(466),h=n(1910),p=n(1795),f=n(1655),v=n(218),m=n(99),O=n(73),j=n.n(O),g=n(31),x=function(e){var t=e.selectedQuestion,n=e.answerContent,o=e.checkRange,r=e.onClose,s=e.shouldPublish,u=e.setSelectedQuestion,h=e.selectedContribution,p=e.zvideoId,f=e.isEditing,O=e.duration,x=e.editorRef,y=e.closeAfterEdit,C=e.reset,k=e.MIN_RANGE,w=Object(d.l)(),z=Object(a.useDispatch)();return{onCancel:Object(m.a)((function(){w.trackEvent({eventType:"Click",action:"Close",block:"Modal",elementLocation:{type:"Button"}}),t&&n?v.a.confirm(Object(c.b)(l.Box,{textAlign:"center",children:"当前视频投稿内容离开后不保存"}),{title:Object(c.b)(l.Box,{ml:"23px",children:"取消当前视频投稿编辑吗？"}),text:{ok:"继续编辑",cancel:"取消离开"}}).then(j.a,r):r()})),onComplete:Object(m.a)((function(){s?z(Object(b.k)(p)).then((function(){z(Object(g.h)("投稿成功，审核后自动发布")),r()})):r()})),onSelectQuestion:Object(i.useCallback)((function(e){o&&o()||u(e)}),[o,u]),onSubmit:Object(m.a)((function(){var e={startTime:0,endTime:O,content:n};f?z(Object(b.n)(h.id,e)).then((function(){var e;y?r():(C(),null===(e=x.current)||void 0===e||e.changeRange(0,x.current.getDuration()))})).catch((function(e){var t=e.payload.message;z(Object(g.h)(t||"添加失败"))})):z(Object(b.a)(p,Object.assign(Object.assign({},e),{},{target:{parentObject:{type:"question",id:t.id,title:t.title},object:{type:"answer"}}}),O)).then((function(){var e;C(),null===(e=x.current)||void 0===e||e.autoNextRange(k)})).catch((function(e){var t=e.payload.message;z(Object(g.h)(t||"添加失败"))}))})),onCancelEdit:Object(m.a)((function(){f&&y?r():C()}))}},y=n(52),C=Object.assign;var k=function(e){return r.a.createElement(y.a,C({width:"153",height:"104",fill:"none",viewBox:"0 0 153 104"},e),r.a.createElement("path",{fill:"#F0F4F7",d:"M95.97 102.732H45.137c-13.147 0-23.805-10.651-23.805-23.79 0-37.472 30.396-67.85 67.893-67.85 27.184 0 49.221 22.023 49.221 49.19 0 23.445-19.017 42.45-42.476 42.45z",fillRule:"evenodd",clipRule:"evenodd"}),r.a.createElement("path",{stroke:"#2B6BCC",d:"M73.088 40.905v20.068M39.27 64.164v24.009M110.813 64.164v34.1",strokeLinecap:"round",strokeWidth:".475"}),r.a.createElement("path",{stroke:"#D3E0ED",d:"M110.813 14.992v16.205M39.199 29.223v8.56M33.03 37.754h99.165M28.754 64.125h112.104",strokeLinecap:"round",strokeWidth:".475"}),r.a.createElement("path",{fill:"#fff",d:"M.015 101.856h152.816L76.423 11.907.015 101.856z",fillRule:"evenodd",clipRule:"evenodd"}),r.a.createElement("path",{fill:"#fff",d:"M81.32 27.703a4.895 4.895 0 01-4.897 4.894 4.895 4.895 0 01-4.897-4.894 4.895 4.895 0 014.897-4.893 4.895 4.895 0 014.897 4.893z",fillRule:"evenodd",clipRule:"evenodd"}),r.a.createElement("path",{stroke:"#D3E0ED",d:"M76.423 14.321V.811",strokeWidth:".633"}),r.a.createElement("path",{fill:"#D3E0ED",d:"M61.587 29.415H91.26c.853 0 1.308-1.007.743-1.646L76.423 10.132 60.844 27.769c-.564.64-.11 1.646.743 1.646zM8.472 103.516h142.657V96.19H8.472v7.326z",fillRule:"evenodd",clipRule:"evenodd"}),r.a.createElement("path",{fill:"#ABBEDB",d:"M15.014 96.116h33.27V88.79h-33.27v7.326zM50.03 70.63l9.3 24.354-2.967 1.132-9.3-24.355 2.967-1.13z",fillRule:"evenodd",clipRule:"evenodd"}),r.a.createElement("path",{fill:"#D3E0ED",d:"M57.15 76.295l6.94 18.175-4.316 1.646-6.94-18.175 4.316-1.646z",fillRule:"evenodd",clipRule:"evenodd"}),r.a.createElement("path",{fill:"#ABBEDB",d:"M15.014 79.644H49.43V77.5H15.014v2.144z",fillRule:"evenodd",clipRule:"evenodd"}),r.a.createElement("path",{fill:"#D3E0ED",d:"M11.25 88.79h33.271v-3.663h-33.27v3.663zM17.548 77.5h30.737v-2.642H17.548V77.5z",fillRule:"evenodd",clipRule:"evenodd"}),r.a.createElement("path",{fill:"#fff",d:"M17.809 84.866H48.25v-4.96H17.809v4.96z",fillRule:"evenodd",clipRule:"evenodd"}),r.a.createElement("path",{fill:"#D3E0ED",d:"M17.548 85.127h30.964v-5.483H17.548v5.483zm.522-.522h29.92v-4.439H18.07v4.439z",fillRule:"evenodd",clipRule:"evenodd"}),r.a.createElement("path",{stroke:"#fff",d:"M76.423 33.84v2.178M79.776 33.063l1.541 1.54M82.135 31.197h2.18M68.363 31.197h2.18M71.436 34.603l1.54-1.54",strokeWidth:"1.095"}),r.a.createElement("path",{stroke:"#D3E0ED",d:"M140.533 96.372c-2.182-9.496-.74-19.823 4.845-28.733",strokeWidth:"1.133"}),r.a.createElement("path",{fill:"#D3E0ED",d:"M147.924 67.603c-.988.704-2.073.877-2.422.387-.348-.49.17-1.457 1.159-2.16.989-.704 2.073-.876 2.422-.386.349.489-.17 1.456-1.159 2.16z",fillRule:"evenodd",clipRule:"evenodd"}),r.a.createElement("path",{fill:"#D3E0ED",d:"M144.759 65.51c.704.987.877 2.071.387 2.42-.49.348-1.458-.17-2.162-1.159-.703-.988-.876-2.071-.386-2.42.49-.348 1.458.17 2.161 1.158zM145.6 73.984c-1.394.659-2.788.634-3.115-.057-.327-.69.538-1.784 1.931-2.443 1.394-.659 2.788-.633 3.115.057.327.69-.538 1.784-1.931 2.443z",fillRule:"evenodd",clipRule:"evenodd"}),r.a.createElement("path",{fill:"#D3E0ED",d:"M142.109 70.66c.66 1.393.634 2.786-.057 3.113-.69.327-1.785-.538-2.444-1.93-.659-1.393-.634-2.787.057-3.113.69-.327 1.785.537 2.444 1.93zM143.964 81.107c-1.607.76-3.216.731-3.593-.065-.377-.796.621-2.058 2.228-2.818 1.608-.76 3.216-.73 3.593.066.377.796-.621 2.057-2.228 2.817z",fillRule:"evenodd",clipRule:"evenodd"}),r.a.createElement("path",{fill:"#D3E0ED",d:"M139.938 77.273c.761 1.607.732 3.214-.065 3.59-.797.378-2.059-.62-2.82-2.225-.761-1.607-.731-3.215.065-3.591.797-.377 2.06.62 2.82 2.226zM143.224 87.524c-1.527.912-3.131 1.039-3.583.283-.452-.756.418-2.108 1.945-3.02 1.526-.912 3.13-1.038 3.582-.283.452.756-.418 2.108-1.944 3.02z",fillRule:"evenodd",clipRule:"evenodd"}),r.a.createElement("path",{fill:"#D3E0ED",d:"M138.845 84.098c.912 1.525 1.039 3.128.283 3.58-.757.452-2.11-.418-3.023-1.943-.912-1.525-1.039-3.128-.282-3.58.756-.452 2.109.418 3.022 1.943zM144.305 93.69c-1.507 1.384-3.285 1.9-3.971 1.154-.686-.746-.021-2.473 1.487-3.857 1.507-1.384 3.285-1.9 3.971-1.153.686.746.02 2.473-1.487 3.856z",fillRule:"evenodd",clipRule:"evenodd"}),r.a.createElement("path",{fill:"#D3E0ED",d:"M138.571 90.849c1.384 1.506 1.901 3.283 1.154 3.97-.747.685-2.475.02-3.859-1.487-1.385-1.506-1.901-3.282-1.154-3.968.747-.687 2.474-.021 3.859 1.485zM129.951 96.157h-10.3V84.28c0-.36.293-.654.655-.654h8.99c.362 0 .655.293.655.654v11.877z",fillRule:"evenodd",clipRule:"evenodd"}),r.a.createElement("path",{stroke:"#D3E0ED",d:"M129.296 87.595h1.069a2.31 2.31 0 012.311 2.31v.488a2.31 2.31 0 01-2.311 2.31h-1.069",strokeWidth:"1.634"}),r.a.createElement("path",{fill:"#D3E0ED",d:"M125.974 72.734c-.263.388-.538.758-.701 1.174a2.514 2.514 0 00-.21 1.244c.089.826.641 1.546 1.238 2.216l.226.258c.08.103.164.202.238.31.139.22.265.456.33.714a2.376 2.376 0 01-.1 1.54c-.407.955-1.299 1.546-2.195 1.775.796-.48 1.47-1.145 1.715-1.95a1.985 1.985 0 00-.278-1.719c-.06-.082-.128-.157-.191-.237l-.237-.26c-.306-.358-.611-.736-.851-1.171-.232-.435-.412-.934-.404-1.452-.005-.518.177-1.011.437-1.419.263-.411.617-.735.983-1.023zM123.249 77.57c-.312.404-.568.873-.518 1.339.048.463.356.865.686 1.237l.125.143c.044.056.09.11.131.169a1.304 1.304 0 01.129 1.233c-.22.527-.712.85-1.202.988.445-.255.82-.628.961-1.074a1.108 1.108 0 00-.152-.967c-.034-.046-.072-.088-.107-.132l-.131-.144a3.948 3.948 0 01-.47-.646c-.128-.238-.227-.512-.224-.795a1.445 1.445 0 01.236-.78c.146-.226.336-.41.536-.571z",fillRule:"evenodd",clipRule:"evenodd"}),r.a.createElement("path",{fill:"#ABBEDB",d:"M81.44 73.316h16.04v-5.712H81.44v5.712z",fillRule:"evenodd",clipRule:"evenodd"}),r.a.createElement("path",{fill:"#D3E0ED",d:"M112.063 96.19H66.857l1.491-15.342a10.45 10.45 0 0110.404-9.436h21.416a10.45 10.45 0 0110.403 9.436l1.492 15.342z",fillRule:"evenodd",clipRule:"evenodd"}),r.a.createElement("path",{fill:"#ABBEDB",d:"M70.543 96.157h43.929v-.68h-43.93v.68z",fillRule:"evenodd",clipRule:"evenodd"}),r.a.createElement("path",{fill:"#fff",d:"M72.252 92.11l-1.007 3.368h21.262v-1.684s-7.61-2.467-20.255-1.684zM112.762 92.11l1.007 3.368H92.507v-1.684s7.61-2.467 20.255-1.684z",fillRule:"evenodd",clipRule:"evenodd"}),r.a.createElement("path",{stroke:"#D3E0ED",d:"M92.507 93.794v1.684",strokeWidth:".368"}),r.a.createElement("path",{fill:"#D3E0ED",d:"M99.775 69.924h-20.63a5.265 5.265 0 01-5.267-5.264v-1.992a5.265 5.265 0 015.267-5.264h20.63a5.265 5.265 0 015.267 5.264v1.992a5.265 5.265 0 01-5.267 5.264z",fillRule:"evenodd",clipRule:"evenodd"}),r.a.createElement("path",{fill:"#BDCDE5",d:"M111.419 95.41a.666.666 0 01.648-.681l.578-.015.035 1.328-.579.015a.665.665 0 01-.682-.647z",fillRule:"evenodd",clipRule:"evenodd"}),r.a.createElement("path",{fill:"#ABBEDB",d:"M112.685 96.225l-.045-1.695 6.832-.179.044 1.695-6.831.18zM119.521 96.231l-.054-2.072 4.69-.123.054 2.072-4.69.123z",fillRule:"evenodd",clipRule:"evenodd"}),r.a.createElement("path",{fill:"#BDCDE5",d:"M124.211 96.108l-.054-2.072 1.283.374.033 1.258-1.262.44z",fillRule:"evenodd",clipRule:"evenodd"}),r.a.createElement("path",{fill:"#D3E0ED",d:"M112.646 94.713l.034 1.329-.407.01-.034-1.328.407-.01z",fillRule:"evenodd",clipRule:"evenodd"}),r.a.createElement("path",{fill:"#BDCDE5",d:"M125.44 94.41l.033 1.258 1.768-.672-1.801-.586z",fillRule:"evenodd",clipRule:"evenodd"}))};function w(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var o=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}(t,void 0!==n&&n<o?n:o)}return e(t,n)}t.a=function(e){var t=e.defaultVideo,n=e.title,r=e.description,v=e.duration,m=e.show,O=e.onClose,j=e.closeAfterEdit,g=void 0!==j&&j,y=e.shouldPublish,C=void 0!==y&&y,z=e.isProduce,B=void 0!==z&&z,S=Object(a.useDispatch)(),R=t.id,E=Object(b.o)(R).answer,A=(E=void 0===E?{}:E).totalCount,N=void 0===A?0:A,T=Object(b.r)(),F=Boolean(T),M=Object(b.p)(R),U=!F&&M.length===N,I=Object(i.useRef)(),L=Object(i.useState)(null),D=w(o.a,L,2),V=D[0],P=D[1],G=Object(i.useState)(""),H=w(o.a,G,2),K=H[0],_=H[1],W=!V&&C,q=Object(i.useCallback)((function(){P(null),_(""),S(Object(b.l)(null))}),[S]),Q=x({selectedQuestion:V,answerContent:K,onClose:O,shouldPublish:C,setSelectedQuestion:P,selectedContribution:T,zvideoId:R,isEditing:F,duration:v,editorRef:I,closeAfterEdit:g,reset:q,MIN_RANGE:6e4}),Z=Q.onCancel,Y=Q.onComplete,X=Q.onSelectQuestion,J=Q.onSubmit,$=Q.onCancelEdit;return Object(i.useEffect)((function(){if(m)if(T){var e,t=T.target.parentObject,n=T.content,o=T.startTime,c=T.endTime;P(t),_(n),null===(e=I.current)||void 0===e||e.changeRange(o,c)}else q()}),[m,T,S,q]),Object(c.b)(u.b,{maskClosable:!1,onClose:Z,css:{width:"790px",maxHeight:"initial",".Modal-content":{lineHeight:"normal",padding:0,margin:0}},children:m&&Object(c.b)(d.b,{block:"Modal",children:Object(c.c)(d.f,{zaType:"Block",as:l.Flex,height:"600px",children:[Object(c.c)(l.Flex,{flexDirection:"column",width:"216px",height:"100%",css:function(e){return{backgroundColor:"".concat(e.colors.GBK10A)}},children:[Object(c.c)(l.Box,{as:"p",fontSize:"24px",fontFamily:"PingFang SC",fontWeight:"500",px:"10px",mt:"24px",mb:"4px",children:["已添加投稿 ",null==M?void 0:M.length,"/",N]}),Object(c.b)(l.Box,{flex:"1",overflowY:"auto",px:"20px",mt:"12px",children:M.length?Object(c.b)(f.a,{isProduce:B,zvideoId:R,showSelect:!0}):Object(c.c)(l.Flex,{justifyContent:"center",alignItems:"center",flexDirection:"column",height:"100%",children:[Object(c.b)(k,{}),Object(c.b)(l.Text,{fontSize:"17px",fontFamily:"PingFang SC",fontWeight:"500",mt:"46px",css:function(e){return{color:e.colors.GBK02A}},children:"选择相关问题投稿"}),Object(c.b)(l.Text,{fontSize:"14px",fontFamily:"PingFang SC",fontWeight:"400",css:function(e){return{color:e.colors.GBK06A}},mt:"4px",children:"让更多人看到你的视频"})]})}),W&&Object(c.b)(l.Flex,{alignItems:"center",justifyContent:"space-between",px:"20px",height:"82px",css:{button:{width:"162px"}},children:Object(c.b)(d.a,{zaType:"Button",zaAction:"Save",zaText:!0,as:s.c,onClick:Y,preset:"primary",color:"blue",disabled:!M.length,children:"发布"})})]}),Object(c.b)(l.Flex,{flexDirection:"column",flex:"1",children:U?Object(c.c)(c.a,{children:[Object(c.b)(l.Box,{px:"20px",my:"24px",fontSize:"24px",fontWeight:"500",children:"选择投稿问题"}),Object(c.c)(l.Flex,{flexDirection:"column",justifyContent:"center",alignItems:"center",flex:"1",children:[Object(c.b)(l.Image,{width:"160px",height:"160px",src:"https://pic3.zhimg.com/v2-aee0d50112db6c845a1b7e7bcd2d7a84.png"}),Object(c.b)(l.Box,{mt:"10px",fontWeight:"500",fontSize:"17px",children:"已达到投稿数量上限"}),Object(c.b)(l.Box,{mt:"4px",fontSize:"14px",color:"GBK06A",children:"可移除已添加投稿来继续投稿问题"})]})]}):V?Object(c.b)(p.a,{value:K,onChange:_,onSubmit:J,onCancel:$,isEditing:F,selectedQuestion:V}):Object(c.b)(h.a,{zvideoId:R,title:n,description:r,onSelect:X})})]})})})}},1907:function(e,t,n){"use strict";var o=n(34),c=n(1),i=n(0),r=n(95),a=n(35),l=n(1017);function d(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var o=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}(t,void 0!==n&&n<o?n:o)}return e(t,n)}function s(e){var t=e.campaign,n=e.selected,o=e.onSelect,i=t.title,r=t.description;return Object(c.c)("div",{className:"VideoContributableCampaignModalCampaign",children:[Object(c.c)("div",{role:"button",tabIndex:0,className:"VideoContributableCampaignModalCampaign-info",onClick:o,children:[Object(c.b)("div",{className:"VideoContributableCampaignModalCampaign-title",children:i}),Object(c.b)("div",{className:"VideoContributableCampaignModalCampaign-description",children:r})]}),Object(c.b)(l.a,{checked:n,onChange:o,size:16})]})}t.a=function(e){var t=e.shown,n=e.onClose,l=e.defaultCampaignId,u=e.campaignList,b=e.onSubmit,h=Object(i.useState)((function(){return l?u.find((function(e){return e.id===l})):null})),p=d(o.a,h,2),f=p[0],v=p[1];return Object(c.b)(r.b,{title:"选择活动",size:"large",onClose:n,children:t&&Object(c.c)(c.a,{children:[Object(c.b)("div",{className:"VideoContributableCampaignModal-list",children:u.map((function(e){return Object(c.b)(s,{campaign:e,selected:(null==f?void 0:f.id)===e.id,onSelect:function(){v((null==f?void 0:f.id)===e.id?null:e)}},e.id)}))}),Object(c.c)(r.a,{direction:"horizontal",children:[Object(c.b)(a.c,{onClick:n,children:"返回"}),Object(c.b)(a.c,{preset:"primary",color:"blue",onClick:function(){b(f)},children:"确定"})]})]})})}},1910:function(e,t,n){"use strict";var o=n(34),c=n(1),i=n(904),r=n(99),a=n(1193),l=n(436),d=n(918),s=n(73),u=n.n(s),b=n(1551),h=n.n(b),p=n(0),f=n(20),v=n(58),m=n(51),O=n(229),j=n(1111),g=n(12),x=n.n(g),y=n(377),C=n.n(y),k=n(632),w=n(57);function z(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var o=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}(t,void 0!==n&&n<o?n:o)}return e(t,n)}var B=Object(w.isBrowser)()?p.useLayoutEffect:function(){},S=function(e){return e===window?window.pageYOffset:e.scrollTop},R=function(){return window},E=function(e){var t=e.children,n=e.className,i=e.getContainer,r=void 0===i?R:i,a=e.isDrained,l=e.isLoading,d=e.isLocal,s=e.isPrevDrained,u=void 0===s||s,b=e.onLoad,h=e.onRef,f=e.placeholder,v=e.stopPropagation,m=e.threshold,O=void 0===m?1200:m,g=Object(p.useState)(!1),y=z(o.a,g,2),w=y[0],E=y[1],A=Object(p.useState)(!1),N=z(o.a,A,2),T=N[0],F=N[1],M=Object(p.useState)(!1),U=z(o.a,M,2),I=U[0],L=U[1],D=Object(p.useRef)(),V=Object(p.useRef)(),P=Object(p.useRef)(),G=Object(p.useRef)(),H=Object(p.useRef)(0),K=Object(p.useRef)(0),_=Object(p.useRef)(l),W=Object(p.useCallback)((function(){var e=V.current,t=G.current,n=P.current,o=S(e),c=o-H.current;H.current=o;var i=c<0,r=i&&u||!i&&a;if(!_.current&&!r){var l=function(e){var t,n,o=e.isPrev,c=e.container,i=e.nextPlaceholderEl,r=e.prevPlaceholderEl;if(void 0!==c.innerHeight)t=0,n=c.innerHeight;else{var a=c.getBoundingClientRect();t=a.top,n=a.bottom}var l=i.getBoundingClientRect().top;return o?t-r.getBoundingClientRect().bottom:l-n}({isPrev:i,container:e,nextPlaceholderEl:t,prevPlaceholderEl:n});i&&(K.current=t.getBoundingClientRect().top,L(l<=0)),l<=O&&(E(i),b(i))}}),[a,u,b,O]);Object(p.useEffect)((function(){_.current=l}),[l]),Object(p.useEffect)((function(){var e=r(D.current);V.current=e}),[r]),Object(p.useEffect)((function(){if(!a||!u){var e=V.current;W();var t=C()(W,100);return e.addEventListener("scroll",t),e.addEventListener("resize",t),function(){e.removeEventListener("scroll",t),e.removeEventListener("resize",t),t.cancel()}}}),[a,u,W]),B((function(){var e,t,n=V.current,o=G.current;if(n&&(w&&!l)){var c=S(n)+o.getBoundingClientRect().top-K.current;return t=c,(e=n)===window?e.scrollTo(e.pageXOffset,t):e.scrollTop=t,H.current=c,function(){K.current=o.getBoundingClientRect().top}}}),[l,w]);var q=d&&p.Children.toArray(t).length<=0;Object(p.useEffect)((function(){if(l&&q){var e=setTimeout((function(){F(_.current)}),300);return function(){clearTimeout(e),F(!1)}}}),[l,q]);var Q=f;return T?Q=Object(c.b)(j.a,{}):q&&(Q=null),Object(c.c)(k.a,{className:x()(n,{"InfiLoader--bounceShown":T}),stopPropagation:v,onRef:function(e){"function"==typeof h?h(e):"object"==typeof h&&(h.current=e),D.current=e},children:[Object(c.b)("div",{ref:P,children:w&&!u&&l&&I&&Q}),t,Object(c.b)("div",{ref:G,children:!a&&l&&Q})]})},A=n(224),N=n(466),T=n(1794);function F(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var o=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}(t,void 0!==n&&n<o?n:o)}return e(t,n)}var M=h()(1);t.a=function(e){var t=e.title,n=e.description,s=e.zvideoId,b=e.onSelect,h=Object(A.b)(),j=Object(f.useDispatch)(),g=Object(p.useRef)(),x=Object(p.useState)(!1),y=F(o.a,x,2),C=y[0],k=y[1],w=Object(p.useState)(""),z=F(o.a,w,2),B=z[0],S=z[1],R=Object(p.useState)([]),U=F(o.a,R,2),I=U[0],L=U[1],D=Object(f.useSelector)((function(e){return e.zvideos.contribution[C?"questionSearchResults":"recommendQuestions"]})),V=D.isLoading,P=D.paging.isEnd,G=D.data,H=Object(m.l)(),K=Object(i.a)((function(e){return M((function(){return h("/api/v4/search/suggest",{query:{q:e},headers:{"X-API-Version":"3.0.91","X-App-Za":"OS=Web"}})})).then((function(e){var t=e.payload.suggest;L(t.map((function(e,t){return Object.assign(Object.assign({},e),{},{name:e.query,index:t})})))}),u.a)}),500),_=Object(p.useCallback)((function(){g.current&&(g.current.scrollTop=0)}),[]),W=Object(r.a)((function(e){e!==B&&(S(e),e?K(e):(_(),k(!1),L([])))})),q=Object(r.a)((function(e,t){var n=t.index;H.trackEvent({eventType:"Click",action:"Question",block:"SuggestItem",elementLocation:{type:"Text",text:e,card:{index:n}}}),_(),S(e),k(!0),j(Object(N.i)(e,!0))})),Q=Object(r.a)((function(){B&&(_(),k(!0),j(Object(N.i)(B,!0)))})),Z=Object(r.a)((function(){G.length&&j(B?Object(N.i)():Object(N.j)())}));return Object(p.useEffect)((function(){j(Object(N.j)({zvideoId:s,title:t,description:n},!0))}),[s,t,n,j]),Object(c.c)(c.a,{children:[Object(c.b)(v.Box,{px:"20px",my:"24px",fontSize:"24px",fontWeight:"500",children:"选择投稿问题"}),Object(c.b)(O.b,{autoSelect:!1,value:B,onChange:W,onSelect:q,onEnterInput:Q,items:I,css:{".Popover":{width:"100%",padding:"0 20px",boxSizing:"border-box"},".Input-wrapper":{width:"100%"}},inputProps:{grey:!0,placeholder:"搜索相关问题…",after:B?Object(c.b)(l.a,{size:16,css:function(e){return{cursor:"pointer",color:e.colors.GBK07A}},onClick:function(){return W("")}}):Object(c.b)(d.a,{size:20,css:function(e){return{color:e.colors.GBL05A}}})},menuProps:{style:{width:"470px"}}}),P&&!G.length?Object(c.b)(a.a.EI1,{image:"default",content:"暂无相关问题"}):Object(c.b)(E,{onRef:g,css:{flex:"1",padding:"0 20px",overflowY:"auto"},isLoading:V,isDrained:P,onLoad:Z,getContainer:function(e){return e},children:G.map((function(e,t){return Object(c.b)(T.a,{onSelect:function(){b(e)},index:t,item:e,css:function(e){return{"& + &":{borderTop:"1px solid ".concat(e.colors.GBK09A)}}}},e.id)}))})]})}},1911:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var o=n(34),c=n(1),i=n(99),r=n(0),a=n(224),l=function(e){return new Promise((function(t,n){try{var o=document.createElement("video");o.preload="metadata",o.onloadedmetadata=function(){URL.revokeObjectURL(o.src),t(Math.floor(1e3*o.duration))},o.onerror=n,o.src=URL.createObjectURL(e)}catch(e){n(e)}}))};function d(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var o=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}(t,void 0!==n&&n<o?n:o)}return e(t,n)}var s=Object(r.createContext)({});t.b=function(e){var t=e.children,n=e.zvideo_id,u=e.defaultVideo,b=Object(r.useState)(null),h=d(o.a,b,2),p=h[0],f=h[1],v=Object(a.b)(),m=Object(i.a)((function(e){v&&n&&v("/api/v4/zvideos/".concat(n,"/publish/permissions?full_duration_millis=").concat(e)).then((function(e){if(e.ok){var t=e.payload,n=(null!=t?t:{}).chapters;if(!n)return;var o=Object.assign(Object.assign({},n),{minInterval:"number"==typeof n.minInterval?parseInt("".concat(n.minInterval/1e3)):5});f(o)}}))})),O=Object(r.useRef)();return Object(r.useEffect)((function(){var e;n&&void 0===O.current&&(u.file&&u.file instanceof File?l(u.file).then((function(e){O.current=e,m(e)})):null!==(e=u.video)&&void 0!==e&&e.duration&&m(1e3*u.video.duration))}),[u,n,v,m]),Object(c.b)(s.Provider,{value:p,children:p&&t})}},2871:function(e,t,n){"use strict";n.d(t,"a",(function(){return C}));var o,c,i=n(22),r=n.n(i),a=n(28),l=n.n(a),d=n(25),s=n.n(d),u=n(29),b=n.n(u),h=n(18),p=n.n(h),f=n(26),v=n.n(f),m=n(1),O=n(0),j=n.n(O),g=n(428);function x(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=p()(e);if(t){var c=p()(this).constructor;n=Reflect.construct(o,arguments,c)}else n=o.apply(this,arguments);return b()(this,n)}}!function(e){e.normal="normal",e.small="small",e.micro="micro"}(c||(c={}));var y=(o={},v()(o,c.normal,{labelWidth:"48px",labelHeight:"28px",knobSize:"20px",knobPressingExpand:"5px",knobOffset:"4px",knobBoxShadowY:"1px",knobBoxShadowBlur:"3px"}),v()(o,c.small,{labelWidth:"36px",labelHeight:"21px",knobSize:"15px",knobPressingExpand:"4px",knobOffset:"3px",knobBoxShadowY:"1px",knobBoxShadowBlur:"2px"}),v()(o,c.micro,{labelWidth:"24px",labelHeight:"14px",knobSize:"10px",knobPressingExpand:"3px",knobOffset:"2px",knobBoxShadowY:"0.5px",knobBoxShadowBlur:"1.5px"}),o),C=function(e){s()(n,e);var t=x(n);function n(e){var o;r()(this,n),(o=t.call(this,e)).handleChange=function(e){o.setState({checked:e.target.checked});var t=o.props.onChange;"function"==typeof t&&t(e)},o.handleFocus=function(){o.setState({focused:!0})},o.handleBlur=function(){o.setState({focused:!1})},o.getPresetStyle=function(e){var t=o.props.preset,n=void 0===t?c.normal:t,i=y[n],r="calc(".concat(i.labelWidth," - ").concat(i.knobSize," - ").concat(i.knobOffset,")"),a="calc(".concat(i.labelWidth," - ").concat(i.knobSize," - ").concat(i.knobOffset," - ").concat(i.knobPressingExpand,")");return{knobStyle:{width:i.knobSize,height:i.knobSize,left:e?r:i.knobOffset,right:e?i.knobOffset:r,top:i.knobOffset,boxShadow:"0px ".concat(i.knobBoxShadowY," ").concat(i.knobBoxShadowBlur," rgba(26, 26, 26, 0.35)")},labelStyle:{width:i.labelWidth,height:i.labelHeight},activeLabelStyle:{width:"calc(".concat(i.knobSize," + ").concat(i.knobPressingExpand,")"),left:e?a:i.knobOffset,right:e?i.knobOffset:a,transitionDelay:".3s"}}};var i=e.checked;return o.state={checked:Boolean(i),focused:!1},o}return l()(n,[{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.checked,o=t.forceControlled;if(!o){var c=e.forceControlled,i=e.checked;if(!c||o){if(void 0!==n){var r=this.state.checked;i!==n&&n!==r&&this.setState({checked:n})}}else this.setState({checked:Boolean(n)})}}},{key:"render",value:function(){var e=this.props,t=e.id,n=e.style,o=void 0===n?{}:n,c=e.className,i=e.onClick,r=e.onChange,a=e.name,l=e.value,d=e.checked,s=e.disabled,u=e.forceControlled,b=this.state,h=b.focused,p=b.checked,f=Boolean(u?d:p),O=u?r:this.handleChange,j=this.getPresetStyle(f),x=j.labelStyle,y=void 0===x?{}:x,C=j.knobStyle,k=void 0===C?{}:C,w=j.activeLabelStyle;return Object(m.b)("label",{className:c,css:function(e){return Object.assign(Object.assign(Object.assign({position:"relative",boxSizing:"border-box",display:"inline-block",lineHeight:"28px",backgroundColor:f?e.colors.GBL01A:e.colors.GBK08A,borderRadius:"20px",transition:"all 0.3s cubic-bezier(0.35, 0, 0.25, 1)",cursor:s?"no-drop":"pointer",opacity:s?.3:1,"-webkit-tap-highlight-color":"transparent"},y),h&&function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"[data-focus-visible]",c=function(t){return"0 0 0 2px ".concat(e.colors.GBK99A,", 0 0 0 4px ").concat(e.colorMod(e.colors.GBL01A).alpha(t))};return t={outline:"none",transition:"box-shadow 0.3s, ".concat(n)},v()(t,"html".concat(o," &"),{boxShadow:c(.3)}),v()(t,"html[data-theme='dark']".concat(o," &"),{boxShadow:c(.6)}),t}(e,"all 0.3s cubic-bezier(0.35, 0, 0.25, 1)")),{},{"&::after":Object.assign({position:"absolute",content:"' '",borderRadius:"10px",background:e.colors.GBK99B,boxShadow:"0 1px 3px ".concat(Object(g.a)(e.colors.GBK02B).alpha(.26)),transition:"all 0.3s cubic-bezier(0.35, 0, 0.25, 1)"},k),"&:active::after":!s&&w,"html[data-focus-visible] &:focus-within":{boxShadow:"0 0 0 2px ".concat(e.colors.GBK99A,", 0 0 0 4px ").concat(e.colorMod(e.colors.GBL01A).alpha(.3))}},o)},children:Object(m.b)("input",{id:t,css:{appearance:"none",clip:"rect(0, 0, 0, 0)",pointerEvents:"none",position:"absolute"},type:"checkbox",onClick:i,onChange:O,onFocus:this.handleFocus,onBlur:this.handleBlur,name:a,value:l,checked:Boolean(f),disabled:s})})}}]),n}(j.a.Component)},2979:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var o=n(0),c=n.n(o),i=n(27),r=Object.assign;function a(e){return c.a.createElement(i.a,r(r({width:"24",height:"24",viewBox:"0 0 24 24"},e),{className:(t=e.className,"function"==typeof t?t():"ZDI ZDI--PaperplaneFill24"+(t?" "+t:""))}),c.a.createElement("path",{d:"M19.47 1.914a.8.8 0 011.204.778l-1.872 16.386a.9.9 0 01-1.204.743l-4.615-1.692a.7.7 0 00-.831.28l-1.927 3.02c-.43.674-1.474.369-1.474-.43v-3.865a.8.8 0 01.179-.504l5.808-7.148a.595.595 0 00-.897-.781l-5.93 6.354a1.1 1.1 0 01-1.258.252L2.57 13.46a.8.8 0 01-.08-1.415l16.98-10.13z"}));var t}function l(e){return c.a.createElement(a,r(r({},e),{className:function(){return"Zi Zi--Share"+(e.className?" "+e.className:"")}}))}},2983:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var o=n(0),c=n.n(o),i=n(27),r=Object.assign;function a(e){return c.a.createElement(i.a,r(r({width:"24",height:"24",viewBox:"0 0 24 24"},e),{className:(t=e.className,"function"==typeof t?t():"ZDI ZDI--HashBubbleFill24"+(t?" "+t:""))}),c.a.createElement("path",{d:"M6.24 1.924c-.432 0-.829 0-1.152.044-.355.047-.73.16-1.04.469-.309.309-.421.685-.47 1.04-.042.323-.042.72-.042 1.153v13.232c0 .433 0 .83.043 1.152.048.356.16.732.47 1.04.308.31.684.422 1.04.47.322.043.72.043 1.152.043h1.39l.478 2.13c.03.14.07.315.125.459.064.167.214.464.573.6.36.135.669.011.827-.072.136-.07.282-.177.397-.26l3.932-2.857h3.796c.433 0 .83 0 1.152-.043.356-.048.732-.16 1.04-.47.31-.308.422-.684.47-1.04.043-.322.043-.72.043-1.152V4.63c0-.433 0-.83-.043-1.153-.048-.355-.16-.731-.47-1.04-.308-.31-.684-.422-1.04-.47-.322-.043-.72-.043-1.152-.043H6.241zm5.267 5.384a.75.75 0 01.517.927l-.226.795h1.94l.343-1.205a.75.75 0 111.443.41l-.226.795h.452a.75.75 0 010 1.5h-.88l-.568 2h.948a.75.75 0 010 1.5h-1.375l-.404 1.42a.75.75 0 11-1.442-.41l.287-1.01h-1.94l-.405 1.42a.75.75 0 11-1.442-.41l.287-1.01H8.25a.75.75 0 010-1.5h.992l.57-2H8.75a.75.75 0 010-1.5h1.488l.343-1.205a.75.75 0 01.926-.517zm-.136 3.222l-.57 2h1.941l.57-2H11.37z",fillRule:"evenodd",clipRule:"evenodd"}));var t}function l(e){return c.a.createElement(a,r(r({},e),{className:function(){return"Zi Zi--Hashtag"+(e.className?" "+e.className:"")}}))}},2990:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var o=n(146),c=n(609),i=n(60);function r(e,t){Object(i.a)(2,arguments);var n=Object(o.a)(t);return Object(c.a)(e,6e4*n)}},985:function(e,t,n){"use strict";n.d(t,"b",(function(){return h})),n.d(t,"a",(function(){return w}));var o=n(30),c=n.n(o),i=n(49),r=n.n(i),a=n(0),l=n.n(a),d=n(12),s=n.n(d),u=n(9),b=["className","title","options","children"],h=function(e){var t=e.className,n=e.title,o=e.options,i=e.children,a=c()(e,b);return Object(u.g)("div",r()({className:s()("List",t)},a),(n||o)&&Object(u.g)("div",{className:"List-header"},Object(u.g)("h4",{className:"List-headerText"},n),Object(u.g)("div",{className:"List-headerOptions"},o)),i)},p=n(22),f=n.n(p),v=n(28),m=n.n(v),O=n(25),j=n.n(O),g=n(29),x=n.n(g),y=n(18),C=n.n(y);function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=C()(e);if(t){var c=C()(this).constructor;n=Reflect.construct(o,arguments,c)}else n=o.apply(this,arguments);return x()(this,n)}}var w=function(e){j()(n,e);var t=k(n);function n(){return f()(this,n),t.apply(this,arguments)}return m()(n,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.tabIndex,o=e.meta,c=e.children,i=e.onRef;return Object(u.g)("div",{className:s()("List-item",t),tabIndex:n,ref:i},o&&Object(u.g)("div",{className:"List-itemMeta"},o),c)}}]),n}(l.a.Component);n(1036)},993:function(e,t,n){"use strict";var o=n(14),c=n(15),i=n(16),r=n(17),a=n(8),l=n(1),d=n(3),s=n.n(d),u=n(0),b=n(20),h=n(12),p=n.n(h),f=n(1082),v=n.n(f),m=n(73),O=n.n(m),j=n(2147),g=n(1494),x=n(1493),y=n(2979),C=n(136),k=n(35),w=n(23),z=n(51),B=n(112),S=n(451),R=n(443),E=n(614),A=n(31),N=n(32);function T(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=Object(a.a)(e);if(t){var c=Object(a.a)(this).constructor;n=Reflect.construct(o,arguments,c)}else n=o.apply(this,arguments);return Object(r.a)(this,n)}}function F(e){return e&&e.startsWith("//")?"https:".concat(e):e}function M(e){return Object.keys(e).map((function(t){return"".concat(t,"=").concat(encodeURIComponent(e[t]))})).join("&")}var U=function(e){Object(i.a)(n,e);var t=T(n);function n(){var e;Object(o.a)(this,n);for(var c=arguments.length,i=new Array(c),r=0;r<c;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).state={qrCodeUrl:"",url:""},e.togglerRef=Object(u.createRef)(),e.shouldShowMenu=function(){var t=e.props,n=t.onTogglerClick,o=t.disabled;return!1!==n()&&!o},e.handleTogglerClick=function(t){e.shouldShowMenu()?(e.loadQrcodeImage(),e.onShare(t)):t.preventDefault()},e.handleMouseEnter=function(t){e.shouldShowMenu()?(e.loadQrcodeImage(),e.onShare(t)):t.preventDefault()},e.open=function(t){e.shouldShowMenu()&&(e.loadQrcodeImage(),e.menu.popover.open(),e.onShare(t))},e.onShare=function(){var t=e.props,n=t.id,o=t.type,c=t.getShareText,i=t.zaShareId;["live","club","edu_course","edu_section"].includes(o)||c(n,o),w.a.trackEvent(e.togglerRef.current,Object.assign({action:"Share",element:"Button",is_intent:!0,element_name:N.fb[o]},i&&{id:i}))},e.copyLink=function(){var t=e.props,n=t.type,o=t.title,c=t.authorName,i=t.href,r=t.showNotification,a=S.b[n]||"",l=o?"".concat(o," - "):"",d=c&&"匿名用户"!==c&&a?"".concat(c,"的").concat(a," - "):"",s=i?Object(B.toAbsoluteUrl)(i):e.url();v()("".concat(l).concat(d,"知乎\n").concat(F(s))),r("链接复制成功！")},e.url=function(){var t=e.props,n=t.id,o=t.type,c=t.shouldUseHrefFirst,i=t.href;return c?Object(B.toAbsoluteUrl)(i):F(Object(B.toAbsoluteUrl)(e.props.url))||"".concat(location.origin,"/").concat(o,"/").concat(n)},e.loadQrcodeImage=function(){var t=e.state.qrCodeUrl,n=e.props,o=n.shouldUseHrefFirst,c=n.href;if(!t){var i="".concat(location.protocol,"//www.zhihu.com/"),r=o?c:"".concat(e.url()).concat("#showWechatShareTip");t="".concat(i,"qrcode?").concat(M({url:r})),e.setState({qrCodeUrl:t,url:r})}},e.shareToWeibo=function(){var t={appKey:"3063806388"},n=e.props.shareText;n&&(t.title=n);var o="http://service.weibo.com/share/share.php?".concat(M(t));window.open(o,"_blank","width=615,height=505")||(location.href=o)},e}return Object(c.a)(n,[{key:"componentDidUpdate",value:function(e){this.props.positionStatus!==e.positionStatus&&this.menu.popover.close()}},{key:"render",value:function(){var e=this,t=this.props,n=t.className,o=t.togglerClassName,c=t.positionStatus,i=t.toggler,r=t.type,a=t.disabled,d=t.placement,s=t.toggleEvent,b=t.stickHover,h=t.children,f=this.state.qrCodeUrl,v=Object(l.c)("div",{className:p()("ShareMenu-toggler",o),children:[f&&Object(l.b)("img",{className:"ShareMenu-fakeQRCode",src:f,alt:"微信二维码"}),Object(u.cloneElement)(i,{onMouseEnter:this.loadQrcodeImage,disabled:a,ref:this.togglerRef})]}),m="hover"===s?{onMouseEnter:this.handleMouseEnter}:{onClick:this.handleTogglerClick};return Object(l.c)(u.Fragment,{children:[Object(l.b)(R.c,{input:"s",action:this.open}),Object(l.c)(z.a,Object.assign(Object.assign({as:C.c,zaText:!0,zaType:"Button",zaAction:"Share",className:p()("ShareMenu",n),positionStatus:c,ref:function(t){e.menu=t},toggler:v,placement:d,toggleEvent:s,stickHover:b},m),{},{children:[Object(l.c)(z.a,{as:C.b,zaType:"Button",zaAction:"Share",zaText:!0,className:"ShareMenu-button",onClick:this.copyLink,children:[Object(l.b)(j.a,{size:17,className:"ShareMenu-Icon--normal",color:"#9FADC7"}),"复制链接"]}),"live"===r||Object(l.c)(z.a,{as:C.b,zaType:"Button",zaAction:"Share",zaText:!0,className:"ShareMenu-button",onClick:this.shareToWeibo,children:[Object(l.b)(g.a,{size:17,className:"ShareMenu-Icon--small"}),"新浪微博"]}),Object(l.c)(C.b,{tag:"div",className:"ShareMenu-wechat",noActive:!0,children:[Object(l.c)(k.c,{className:"ShareMenu-button",preset:"plain",children:[Object(l.b)(x.a,{size:17,className:"ShareMenu-Icon--small",color:"#60C84D"}),"微信扫一扫"]}),Object(l.b)("img",{className:"ShareMenu-qrCode",src:f,alt:"微信二维码"})]}),h]}))]})}}]),n}(u.Component);U.propTypes={toggler:s.a.node,onTogglerClick:s.a.func,zaShareId:s.a.number},U.defaultProps={toggler:Object(l.b)(k.c,{preset:"plain",icon:y.a,label:"分享"}),onTogglerClick:O.a};t.a=Object(b.connect)((function(e,t){var n=t.id,o=t.type,c=e.shareTexts;return{shareText:(null==c?void 0:c["".concat(o).concat(n)])||t.shareText}}),{showNotification:A.h,getShareText:E.b})(U)}}]);
//# sourceMappingURL=main.shared_5166cb19070d8185522b38ec72e2338c7ea0fe84.3cbc7bbf5bcabe3a3f72.js.map